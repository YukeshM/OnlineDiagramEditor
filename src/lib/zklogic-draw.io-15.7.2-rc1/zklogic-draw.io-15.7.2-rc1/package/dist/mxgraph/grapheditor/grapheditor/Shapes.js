!function(){function t(t,e,n){mxShape.call(this),this.line=t,this.stroke=e,this.strokewidth=null!=n?n:1,this.updateBoundsFromLine()}function e(){mxSwimlane.call(this)}function n(){mxCylinder.call(this)}mxUtils.extend(t,mxShape),t.prototype.updateBoundsFromLine=function(){var t=null;if(null!=this.line)for(var e=0;e<this.line.length;e++){var n=this.line[e];if(null!=n){var i=new mxRectangle(n.x,n.y,this.strokewidth,this.strokewidth);null==t?t=i:t.add(i)}}this.bounds=null!=t?t:new mxRectangle},t.prototype.paintVertexShape=function(t,e,n,i,o){this.paintTableLine(t,this.line,0,0)},t.prototype.paintTableLine=function(t,e,n,i){if(null!=e){var o=null;t.begin();for(var a=0;a<e.length;a++){var s=e[a];null!=s&&(null==o?t.moveTo(s.x+n,s.y+i):null!=o&&t.lineTo(s.x+n,s.y+i)),o=s}t.end(),t.stroke()}},t.prototype.intersectsRectangle=function(t){var e=!1;if(mxShape.prototype.intersectsRectangle.apply(this,arguments)&&null!=this.line)for(var n=null,i=0;i<this.line.length&&!e;i++){var o=this.line[i];null!=o&&null!=n&&(e=mxUtils.rectangleIntersectsSegment(t,n,o)),n=o}return e},mxCellRenderer.registerShape("tableLine",t),mxUtils.extend(e,mxSwimlane),e.prototype.getLabelBounds=function(t){var e=this.getTitleSize();return 0==e?mxShape.prototype.getLabelBounds.apply(this,arguments):mxSwimlane.prototype.getLabelBounds.apply(this,arguments)},e.prototype.paintVertexShape=function(t,e,n,i,o){var a=this.getTitleSize();0==a?mxRectangleShape.prototype.paintBackground.apply(this,arguments):(mxSwimlane.prototype.paintVertexShape.apply(this,arguments),t.translate(-e,-n)),this.paintForeground(t,e,n,i,o)},e.prototype.paintForeground=function(t,e,n,i,o){if(null!=this.state){var a=this.flipH,l=this.flipV;if(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH){var r=a;a=l,l=r}t.rotate(-this.getShapeRotation(),a,l,e+i/2,n+o/2),s=this.scale,e=this.bounds.x/s,n=this.bounds.y/s,i=this.bounds.width/s,o=this.bounds.height/s,this.paintTableForeground(t,e,n,i,o)}},e.prototype.paintTableForeground=function(e,n,i,o,a){for(var s=this.state.view.graph.getTableLines(this.state.cell,"0"!=mxUtils.getValue(this.state.style,"rowLines","1"),"0"!=mxUtils.getValue(this.state.style,"columnLines","1")),l=0;l<s.length;l++)t.prototype.paintTableLine(e,s[l],n,i)},mxCellRenderer.registerShape("table",e),mxUtils.extend(n,mxCylinder),n.prototype.size=20,n.prototype.darkOpacity=0,n.prototype.darkOpacity2=0,n.prototype.paintVertexShape=function(t,e,n,i,o){var a=Math.max(0,Math.min(i,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),s=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity",this.darkOpacity)))),l=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity2",this.darkOpacity2))));t.translate(e,n),t.begin(),t.moveTo(0,0),t.lineTo(i-a,0),t.lineTo(i,a),t.lineTo(i,o),t.lineTo(a,o),t.lineTo(0,o-a),t.lineTo(0,0),t.close(),t.end(),t.fillAndStroke(),this.outline||(t.setShadow(!1),0!=s&&(t.setFillAlpha(Math.abs(s)),t.setFillColor(s<0?"#FFFFFF":"#000000"),t.begin(),t.moveTo(0,0),t.lineTo(i-a,0),t.lineTo(i,a),t.lineTo(a,a),t.close(),t.fill()),0!=l&&(t.setFillAlpha(Math.abs(l)),t.setFillColor(l<0?"#FFFFFF":"#000000"),t.begin(),t.moveTo(0,0),t.lineTo(a,a),t.lineTo(a,o),t.lineTo(0,o-a),t.close(),t.fill()),t.begin(),t.moveTo(a,o),t.lineTo(a,a),t.lineTo(0,0),t.moveTo(a,a),t.lineTo(i,a),t.end(),t.stroke())},n.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale;return new mxRectangle(e,e,0,0)}return null},mxCellRenderer.registerShape("cube",n);var i=Math.tan(mxUtils.toRadians(30)),o=(.5-i)/2;function a(){mxCylinder.call(this)}function l(){mxActor.call(this)}function r(){mxCylinder.call(this)}function m(){mxCylinder.call(this)}function x(){mxCylinder.call(this)}function h(){x.call(this)}function p(){mxShape.call(this)}function u(){mxShape.call(this)}function d(t,e,n,i){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=n,this.strokewidth=null!=i?i:1}function c(){mxActor.call(this)}function w(){mxCylinder.call(this)}function y(){mxCylinder.call(this)}function C(){mxActor.call(this)}function g(){mxActor.call(this)}function f(){mxActor.call(this)}mxCellRenderer.registerShape("isoRectangle",l),mxUtils.extend(a,mxCylinder),a.prototype.size=6,a.prototype.paintVertexShape=function(t,e,n,i,o){t.setFillColor(this.stroke);var a=Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size))-2)+2*this.strokewidth;t.ellipse(e+.5*(i-a),n+.5*(o-a),a,a),t.fill(),t.setFillColor(mxConstants.NONE),t.rect(e,n,i,o),t.fill()},mxCellRenderer.registerShape("waypoint",a),mxUtils.extend(l,mxActor),l.prototype.size=20,l.prototype.redrawPath=function(t,e,n,a,s){var l=Math.min(a,s/i);t.translate((a-l)/2,(s-l)/2+l/4),t.moveTo(0,.25*l),t.lineTo(.5*l,l*o),t.lineTo(l,.25*l),t.lineTo(.5*l,(.5-o)*l),t.lineTo(0,.25*l),t.close(),t.end()},mxCellRenderer.registerShape("isoRectangle",l),mxUtils.extend(r,mxCylinder),r.prototype.size=20,r.prototype.redrawPath=function(t,e,n,a,s,l){var r=Math.min(a,s/(.5+i));l?(t.moveTo(0,.25*r),t.lineTo(.5*r,(.5-o)*r),t.lineTo(r,.25*r),t.moveTo(.5*r,(.5-o)*r),t.lineTo(.5*r,(1-o)*r),t.end()):(t.translate((a-r)/2,(s-r)/2),t.moveTo(0,.25*r),t.lineTo(.5*r,r*o),t.lineTo(r,.25*r),t.lineTo(r,.75*r),t.lineTo(.5*r,(1-o)*r),t.lineTo(0,.75*r),t.close(),t.end())},mxCellRenderer.registerShape("isoCube",r),mxUtils.extend(m,mxCylinder),m.prototype.redrawPath=function(t,e,n,i,o,a){var s=Math.min(o/2,Math.round(o/8)+this.strokewidth-1);(a&&null!=this.fill||!a&&null==this.fill)&&(t.moveTo(0,s),t.curveTo(0,2*s,i,2*s,i,s),a||(t.stroke(),t.begin()),t.translate(0,s/2),t.moveTo(0,s),t.curveTo(0,2*s,i,2*s,i,s),a||(t.stroke(),t.begin()),t.translate(0,s/2),t.moveTo(0,s),t.curveTo(0,2*s,i,2*s,i,s),a||(t.stroke(),t.begin()),t.translate(0,-s)),a||(t.moveTo(0,s),t.curveTo(0,-s/3,i,-s/3,i,s),t.lineTo(i,o-s),t.curveTo(i,o+s/3,0,o+s/3,0,o-s),t.close())},m.prototype.getLabelMargins=function(t){return new mxRectangle(0,2.5*Math.min(t.height/2,Math.round(t.height/8)+this.strokewidth-1),0,0)},mxCellRenderer.registerShape("datastore",m),mxUtils.extend(x,mxCylinder),x.prototype.size=30,x.prototype.darkOpacity=0,x.prototype.paintVertexShape=function(t,e,n,i,o){var a=Math.max(0,Math.min(i,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),s=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity",this.darkOpacity))));t.translate(e,n),t.begin(),t.moveTo(0,0),t.lineTo(i-a,0),t.lineTo(i,a),t.lineTo(i,o),t.lineTo(0,o),t.lineTo(0,0),t.close(),t.end(),t.fillAndStroke(),this.outline||(t.setShadow(!1),0!=s&&(t.setFillAlpha(Math.abs(s)),t.setFillColor(s<0?"#FFFFFF":"#000000"),t.begin(),t.moveTo(i-a,0),t.lineTo(i-a,a),t.lineTo(i,a),t.close(),t.fill()),t.begin(),t.moveTo(i-a,0),t.lineTo(i-a,a),t.lineTo(i,a),t.end(),t.stroke())},mxCellRenderer.registerShape("note",x),mxUtils.extend(h,x),mxCellRenderer.registerShape("note2",h),h.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=mxUtils.getValue(this.style,"size",15);return new mxRectangle(0,Math.min(t.height*this.scale,e*this.scale),0,0)}return null},mxUtils.extend(p,mxShape),p.prototype.isoAngle=15,p.prototype.paintVertexShape=function(t,e,n,i,o){var a=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.style,"isoAngle",this.isoAngle))))*Math.PI/200,s=Math.min(i*Math.tan(a),.5*o);t.translate(e,n),t.begin(),t.moveTo(.5*i,0),t.lineTo(i,s),t.lineTo(i,o-s),t.lineTo(.5*i,o),t.lineTo(0,o-s),t.lineTo(0,s),t.close(),t.fillAndStroke(),t.setShadow(!1),t.begin(),t.moveTo(0,s),t.lineTo(.5*i,2*s),t.lineTo(i,s),t.moveTo(.5*i,2*s),t.lineTo(.5*i,o),t.stroke()},mxCellRenderer.registerShape("isoCube2",p),mxUtils.extend(u,mxShape),u.prototype.size=15,u.prototype.paintVertexShape=function(t,e,n,i,o){var a=Math.max(0,Math.min(.5*o,parseFloat(mxUtils.getValue(this.style,"size",this.size))));t.translate(e,n),0==a?(t.rect(0,0,i,o),t.fillAndStroke()):(t.begin(),t.moveTo(0,a),t.arcTo(.5*i,a,0,0,1,.5*i,0),t.arcTo(.5*i,a,0,0,1,i,a),t.lineTo(i,o-a),t.arcTo(.5*i,a,0,0,1,.5*i,o),t.arcTo(.5*i,a,0,0,1,0,o-a),t.close(),t.fillAndStroke(),t.setShadow(!1),t.begin(),t.moveTo(i,a),t.arcTo(.5*i,a,0,0,1,.5*i,2*a),t.arcTo(.5*i,a,0,0,1,0,a),t.stroke())},mxCellRenderer.registerShape("cylinder2",u),mxUtils.extend(d,mxCylinder),d.prototype.size=15,d.prototype.paintVertexShape=function(t,e,n,i,o){var a=Math.max(0,Math.min(.5*o,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,"lid",!0);t.translate(e,n),0==a?(t.rect(0,0,i,o),t.fillAndStroke()):(t.begin(),s?(t.moveTo(0,a),t.arcTo(.5*i,a,0,0,1,.5*i,0),t.arcTo(.5*i,a,0,0,1,i,a)):(t.moveTo(0,0),t.arcTo(.5*i,a,0,0,0,.5*i,a),t.arcTo(.5*i,a,0,0,0,i,0)),t.lineTo(i,o-a),t.arcTo(.5*i,a,0,0,1,.5*i,o),t.arcTo(.5*i,a,0,0,1,0,o-a),t.close(),t.fillAndStroke(),t.setShadow(!1),s&&(t.begin(),t.moveTo(i,a),t.arcTo(.5*i,a,0,0,1,.5*i,2*a),t.arcTo(.5*i,a,0,0,1,0,a),t.stroke()))},mxCellRenderer.registerShape("cylinder3",d),mxUtils.extend(c,mxActor),c.prototype.redrawPath=function(t,e,n,i,o){t.moveTo(0,0),t.quadTo(i/2,.5*o,i,0),t.quadTo(.5*i,o/2,i,o),t.quadTo(i/2,.5*o,0,o),t.quadTo(.5*i,o/2,0,0),t.end()},mxCellRenderer.registerShape("switch",c),mxUtils.extend(w,mxCylinder),w.prototype.tabWidth=60,w.prototype.tabHeight=20,w.prototype.tabPosition="right",w.prototype.arcSize=.1,w.prototype.paintVertexShape=function(t,e,n,i,o){t.translate(e,n);var a=Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth)))),s=Math.max(0,Math.min(o,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight)))),l=mxUtils.getValue(this.style,"tabPosition",this.tabPosition),r=mxUtils.getValue(this.style,"rounded",!1),m=mxUtils.getValue(this.style,"absoluteArcSize",!1),x=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));m||(x=Math.min(i,o)*x),x=Math.min(x,.5*i,.5*(o-s)),a=Math.max(a,x),a=Math.min(i-x,a),r||(x=0),t.begin(),"left"==l?(t.moveTo(Math.max(x,0),s),t.lineTo(Math.max(x,0),0),t.lineTo(a,0),t.lineTo(a,s)):(t.moveTo(i-a,s),t.lineTo(i-a,0),t.lineTo(i-Math.max(x,0),0),t.lineTo(i-Math.max(x,0),s)),r?(t.moveTo(0,x+s),t.arcTo(x,x,0,0,1,x,s),t.lineTo(i-x,s),t.arcTo(x,x,0,0,1,i,x+s),t.lineTo(i,o-x),t.arcTo(x,x,0,0,1,i-x,o),t.lineTo(x,o),t.arcTo(x,x,0,0,1,0,o-x)):(t.moveTo(0,s),t.lineTo(i,s),t.lineTo(i,o),t.lineTo(0,o)),t.close(),t.fillAndStroke(),t.setShadow(!1),"triangle"==mxUtils.getValue(this.style,"folderSymbol",null)&&(t.begin(),t.moveTo(i-30,s+20),t.lineTo(i-20,s+10),t.lineTo(i-10,s+20),t.close(),t.stroke())},mxCellRenderer.registerShape("folder",w),w.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=mxUtils.getValue(this.style,"tabHeight",15)*this.scale;if(mxUtils.getValue(this.style,"labelInHeader",!1)){var n=mxUtils.getValue(this.style,"tabWidth",15)*this.scale,i=(e=mxUtils.getValue(this.style,"tabHeight",15)*this.scale,mxUtils.getValue(this.style,"rounded",!1)),o=mxUtils.getValue(this.style,"absoluteArcSize",!1),a=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));return o||(a=Math.min(t.width,t.height)*a),a=Math.min(a,.5*t.width,.5*(t.height-e)),i||(a=0),"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?new mxRectangle(a,0,Math.min(t.width,t.width-n),Math.min(t.height,t.height-e)):new mxRectangle(Math.min(t.width,t.width-n),0,a,Math.min(t.height,t.height-e))}return new mxRectangle(0,Math.min(t.height,e),0,0)}return null},mxUtils.extend(y,mxCylinder),y.prototype.arcSize=.1,y.prototype.paintVertexShape=function(t,e,n,i,o){t.translate(e,n);var a=mxUtils.getValue(this.style,"rounded",!1),s=mxUtils.getValue(this.style,"absoluteArcSize",!1),l=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize)),r=mxUtils.getValue(this.style,"umlStateConnection",null);s||(l=Math.min(i,o)*l),l=Math.min(l,.5*i,.5*o),a||(l=0);var m=0;null!=r&&(m=10),t.begin(),t.moveTo(m,l),t.arcTo(l,l,0,0,1,m+l,0),t.lineTo(i-l,0),t.arcTo(l,l,0,0,1,i,l),t.lineTo(i,o-l),t.arcTo(l,l,0,0,1,i-l,o),t.lineTo(m+l,o),t.arcTo(l,l,0,0,1,m,o-l),t.close(),t.fillAndStroke(),t.setShadow(!1),"collapseState"==mxUtils.getValue(this.style,"umlStateSymbol",null)&&(t.roundrect(i-40,o-20,10,10,3,3),t.stroke(),t.roundrect(i-20,o-20,10,10,3,3),t.stroke(),t.begin(),t.moveTo(i-30,o-15),t.lineTo(i-20,o-15),t.stroke()),"connPointRefEntry"==r?(t.ellipse(0,.5*o-10,20,20),t.fillAndStroke()):"connPointRefExit"==r&&(t.ellipse(0,.5*o-10,20,20),t.fillAndStroke(),t.begin(),t.moveTo(5,.5*o-5),t.lineTo(15,.5*o+5),t.moveTo(15,.5*o-5),t.lineTo(5,.5*o+5),t.stroke())},y.prototype.getLabelMargins=function(t){return mxUtils.getValue(this.style,"boundedLbl",!1)&&null!=mxUtils.getValue(this.style,"umlStateConnection",null)?new mxRectangle(10*this.scale,0,0,0):null},mxCellRenderer.registerShape("umlState",y),mxUtils.extend(C,mxActor),C.prototype.size=30,C.prototype.isRoundable=function(){return!0},C.prototype.redrawPath=function(t,e,n,i,o){var a=Math.max(0,Math.min(i,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(a,0),new mxPoint(i,0),new mxPoint(i,o),new mxPoint(0,o),new mxPoint(0,a)],this.isRounded,s,!0),t.end()},mxCellRenderer.registerShape("card",C),mxUtils.extend(g,mxActor),g.prototype.size=.4,g.prototype.redrawPath=function(t,e,n,i,o){var a=o*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=1.4;t.moveTo(0,a/2),t.quadTo(i/4,a*s,i/2,a/2),t.quadTo(3*i/4,a*(1-s),i,a/2),t.lineTo(i,o-a/2),t.quadTo(3*i/4,o-a*s,i/2,o-a/2),t.quadTo(i/4,o-a*(1-s),0,o-a/2),t.lineTo(0,a/2),t.close(),t.end()},g.prototype.getLabelBounds=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=mxUtils.getValue(this.style,"size",this.size),n=t.width,i=t.height;if(null==this.direction||this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST){var o=i*e;return new mxRectangle(t.x,t.y+o,n,i-2*o)}var a=n*e;return new mxRectangle(t.x+a,t.y,n-2*a,i)}return t},mxCellRenderer.registerShape("tape",g),mxUtils.extend(f,mxActor),f.prototype.size=.3,f.prototype.getLabelMargins=function(t){return mxUtils.getValue(this.style,"boundedLbl",!1)?new mxRectangle(0,0,0,parseFloat(mxUtils.getValue(this.style,"size",this.size))*t.height):null},f.prototype.redrawPath=function(t,e,n,i,o){var a=o*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));t.moveTo(0,0),t.lineTo(i,0),t.lineTo(i,o-a/2),t.quadTo(3*i/4,o-1.4*a,i/2,o-a/2),t.quadTo(i/4,o-a*(1-1.4),0,o-a/2),t.lineTo(0,a/2),t.close(),t.end()},mxCellRenderer.registerShape("document",f);var T=mxCylinder.prototype.getCylinderSize;function S(){mxActor.call(this)}function P(){mxActor.call(this)}function v(){mxActor.call(this)}function M(){mxActor.call(this)}function E(t,e){this.canvas=t,this.canvas.setLineJoin("round"),this.canvas.setLineCap("round"),this.defaultVariation=e,this.originalLineTo=this.canvas.lineTo,this.canvas.lineTo=mxUtils.bind(this,E.prototype.lineTo),this.originalMoveTo=this.canvas.moveTo,this.canvas.moveTo=mxUtils.bind(this,E.prototype.moveTo),this.originalClose=this.canvas.close,this.canvas.close=mxUtils.bind(this,E.prototype.close),this.originalQuadTo=this.canvas.quadTo,this.canvas.quadTo=mxUtils.bind(this,E.prototype.quadTo),this.originalCurveTo=this.canvas.curveTo,this.canvas.curveTo=mxUtils.bind(this,E.prototype.curveTo),this.originalArcTo=this.canvas.arcTo,this.canvas.arcTo=mxUtils.bind(this,E.prototype.arcTo)}mxCylinder.prototype.getCylinderSize=function(t,e,n,i){var o=mxUtils.getValue(this.style,"size");return null!=o?i*Math.max(0,Math.min(1,o)):T.apply(this,arguments)},mxCylinder.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=2*mxUtils.getValue(this.style,"size",.15);return new mxRectangle(0,Math.min(this.maxHeight*this.scale,t.height*e),0,0)}return null},d.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=mxUtils.getValue(this.style,"size",15);return mxUtils.getValue(this.style,"lid",!0)||(e/=2),new mxRectangle(0,Math.min(t.height*this.scale,2*e*this.scale),0,Math.max(0,.3*e*this.scale))}return null},w.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=mxUtils.getValue(this.style,"tabHeight",15)*this.scale;if(mxUtils.getValue(this.style,"labelInHeader",!1)){var n=mxUtils.getValue(this.style,"tabWidth",15)*this.scale,i=(e=mxUtils.getValue(this.style,"tabHeight",15)*this.scale,mxUtils.getValue(this.style,"rounded",!1)),o=mxUtils.getValue(this.style,"absoluteArcSize",!1),a=parseFloat(mxUtils.getValue(this.style,"arcSize",this.arcSize));return o||(a=Math.min(t.width,t.height)*a),a=Math.min(a,.5*t.width,.5*(t.height-e)),i||(a=0),"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?new mxRectangle(a,0,Math.min(t.width,t.width-n),Math.min(t.height,t.height-e)):new mxRectangle(Math.min(t.width,t.width-n),0,a,Math.min(t.height,t.height-e))}return new mxRectangle(0,Math.min(t.height,e),0,0)}return null},y.prototype.getLabelMargins=function(t){return mxUtils.getValue(this.style,"boundedLbl",!1)&&null!=mxUtils.getValue(this.style,"umlStateConnection",null)?new mxRectangle(10*this.scale,0,0,0):null},h.prototype.getLabelMargins=function(t){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var e=mxUtils.getValue(this.style,"size",15);return new mxRectangle(0,Math.min(t.height*this.scale,e*this.scale),0,Math.max(0,e*this.scale))}return null},mxUtils.extend(S,mxActor),S.prototype.size=.2,S.prototype.fixedSize=20,S.prototype.isRoundable=function(){return!0},S.prototype.redrawPath=function(t,e,n,i,o){var a="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,o),new mxPoint(a,0),new mxPoint(i,0),new mxPoint(i-a,o)],this.isRounded,s,!0),t.end()},mxCellRenderer.registerShape("parallelogram",S),mxUtils.extend(P,mxActor),P.prototype.size=.2,P.prototype.fixedSize=20,P.prototype.isRoundable=function(){return!0},P.prototype.redrawPath=function(t,e,n,i,o){var a="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(.5*i,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):i*Math.max(0,Math.min(.5,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,o),new mxPoint(a,0),new mxPoint(i-a,0),new mxPoint(i,o)],this.isRounded,s,!0)},mxCellRenderer.registerShape("trapezoid",P),mxUtils.extend(v,mxActor),v.prototype.size=.5,v.prototype.redrawPath=function(t,e,n,i,o){t.setFillColor(null);var a=i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(i,0),new mxPoint(a,0),new mxPoint(a,o/2),new mxPoint(0,o/2),new mxPoint(a,o/2),new mxPoint(a,o),new mxPoint(i,o)],this.isRounded,s,!1),t.end()},mxCellRenderer.registerShape("curlyBracket",v),mxUtils.extend(M,mxActor),M.prototype.redrawPath=function(t,e,n,i,o){t.setStrokeWidth(1),t.setFillColor(this.stroke);var a=i/5;t.rect(0,0,a,o),t.fillAndStroke(),t.rect(2*a,0,a,o),t.fillAndStroke(),t.rect(4*a,0,a,o),t.fillAndStroke()},mxCellRenderer.registerShape("parallelMarker",M),E.prototype.moveTo=function(t,e){this.originalMoveTo.apply(this.canvas,arguments),this.lastX=t,this.lastY=e,this.firstX=t,this.firstY=e},E.prototype.close=function(){null!=this.firstX&&null!=this.firstY&&(this.lineTo(this.firstX,this.firstY),this.originalClose.apply(this.canvas,arguments)),this.originalClose.apply(this.canvas,arguments)},E.prototype.quadTo=function(t,e,n,i){this.originalQuadTo.apply(this.canvas,arguments),this.lastX=n,this.lastY=i},E.prototype.curveTo=function(t,e,n,i,o,a){this.originalCurveTo.apply(this.canvas,arguments),this.lastX=o,this.lastY=a},E.prototype.arcTo=function(t,e,n,i,o,a,s){this.originalArcTo.apply(this.canvas,arguments),this.lastX=a,this.lastY=s},E.prototype.lineTo=function(t,e){if(null!=this.lastX&&null!=this.lastY){var n=Math.abs(t-this.lastX),i=Math.abs(e-this.lastY),o=Math.sqrt(n*n+i*i);if(o<2)return this.originalLineTo.apply(this.canvas,arguments),this.lastX=t,void(this.lastY=e);var a=Math.round(o/10),s=this.defaultVariation;function l(t){return"number"==typeof t?t?t<0?-1:1:t==t?0:NaN:NaN}a<5&&(a=5,s/=3);for(var r=l(t-this.lastX)*n/a,m=l(e-this.lastY)*i/a,x=n/o,h=i/o,p=0;p<a;p++){var u=r*p+this.lastX,d=m*p+this.lastY,c=(Math.random()-.5)*s;this.originalLineTo.call(this.canvas,u-c*h,d-c*x)}this.originalLineTo.call(this.canvas,t,e),this.lastX=t,this.lastY=e}else this.originalLineTo.apply(this.canvas,arguments),this.lastX=t,this.lastY=e},E.prototype.destroy=function(){this.canvas.lineTo=this.originalLineTo,this.canvas.moveTo=this.originalMoveTo,this.canvas.close=this.originalClose,this.canvas.quadTo=this.originalQuadTo,this.canvas.curveTo=this.originalCurveTo,this.canvas.arcTo=this.originalArcTo},mxShape.prototype.defaultJiggle=1.5;var R=mxShape.prototype.beforePaint;mxShape.prototype.beforePaint=function(t){R.apply(this,arguments),null==t.handJiggle&&(t.handJiggle=this.createHandJiggle(t))};var U=mxShape.prototype.afterPaint;mxShape.prototype.afterPaint=function(t){U.apply(this,arguments),null!=t.handJiggle&&(t.handJiggle.destroy(),delete t.handJiggle)},mxShape.prototype.createComicCanvas=function(t){return new E(t,mxUtils.getValue(this.style,"jiggle",this.defaultJiggle))},mxShape.prototype.createHandJiggle=function(t){return this.outline||null==this.style||"0"==mxUtils.getValue(this.style,"comic","0")?null:this.createComicCanvas(t)},mxRhombus.prototype.defaultJiggle=2;var I=mxRectangleShape.prototype.isHtmlAllowed;mxRectangleShape.prototype.isHtmlAllowed=function(){return!this.outline&&(null==this.style||"0"==mxUtils.getValue(this.style,"comic","0")&&"0"==mxUtils.getValue(this.style,"sketch","1"==urlParams.rough?"1":"0"))&&I.apply(this,arguments)};var V=mxRectangleShape.prototype.paintBackground;function b(){mxRectangleShape.call(this)}function N(){mxRectangleShape.call(this)}function z(){mxActor.call(this)}function A(){mxActor.call(this)}function L(){mxActor.call(this)}function k(){mxRectangleShape.call(this)}mxRectangleShape.prototype.paintBackground=function(t,e,n,i,o){if(null==t.handJiggle||t.handJiggle.constructor!=E)V.apply(this,arguments);else{var a=!0;if(null!=this.style&&(a="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),a||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE){if(a||null!=this.fill&&this.fill!=mxConstants.NONE||(t.pointerEvents=!1),t.begin(),this.isRounded){var s=0;if("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))s=Math.min(i/2,Math.min(o/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2));else{var l=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;s=Math.min(i*l,o*l)}t.moveTo(e+s,n),t.lineTo(e+i-s,n),t.quadTo(e+i,n,e+i,n+s),t.lineTo(e+i,n+o-s),t.quadTo(e+i,n+o,e+i-s,n+o),t.lineTo(e+s,n+o),t.quadTo(e,n+o,e,n+o-s),t.lineTo(e,n+s),t.quadTo(e,n,e+s,n)}else t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i,n+o),t.lineTo(e,n+o),t.lineTo(e,n);t.close(),t.end(),t.fillAndStroke()}}},mxUtils.extend(b,mxRectangleShape),b.prototype.size=.1,b.prototype.fixedSize=!1,b.prototype.isHtmlAllowed=function(){return!1},b.prototype.getLabelBounds=function(t){if(mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,!0)==(null==this.direction||this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST)){var e=t.width,n=t.height,i=new mxRectangle(t.x,t.y,e,n),o=e*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));if(this.isRounded){var a=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;o=Math.max(o,Math.min(e*a,n*a))}return i.x+=Math.round(o),i.width-=Math.round(2*o),i}return t},b.prototype.paintForeground=function(t,e,n,i,o){var a=mxUtils.getValue(this.style,"fixedSize",this.fixedSize),s=parseFloat(mxUtils.getValue(this.style,"size",this.size));if(s=a?Math.max(0,Math.min(i,s)):i*Math.max(0,Math.min(1,s)),this.isRounded){var l=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;s=Math.max(s,Math.min(i*l,o*l))}s=Math.round(s),t.begin(),t.moveTo(e+s,n),t.lineTo(e+s,n+o),t.moveTo(e+i-s,n),t.lineTo(e+i-s,n+o),t.end(),t.stroke(),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.registerShape("process",b),mxCellRenderer.registerShape("process2",b),mxUtils.extend(N,mxRectangleShape),N.prototype.paintBackground=function(t,e,n,i,o){t.setFillColor(mxConstants.NONE),t.rect(e,n,i,o),t.fill()},N.prototype.paintForeground=function(t,e,n,i,o){},mxCellRenderer.registerShape("transparent",N),mxUtils.extend(z,mxHexagon),z.prototype.size=30,z.prototype.position=.5,z.prototype.position2=.5,z.prototype.base=20,z.prototype.getLabelMargins=function(){return new mxRectangle(0,0,0,parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale)},z.prototype.isRoundable=function(){return!0},z.prototype.redrawPath=function(t,e,n,i,o){var a=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2,s=Math.max(0,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),l=i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position",this.position)))),r=i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position2",this.position2)))),m=Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"base",this.base))));this.addPoints(t,[new mxPoint(0,0),new mxPoint(i,0),new mxPoint(i,o-s),new mxPoint(Math.min(i,l+m),o-s),new mxPoint(r,o),new mxPoint(Math.max(0,l),o-s),new mxPoint(0,o-s)],this.isRounded,a,!0,[4])},mxCellRenderer.registerShape("callout",z),mxUtils.extend(A,mxActor),A.prototype.size=.2,A.prototype.fixedSize=20,A.prototype.isRoundable=function(){return!0},A.prototype.redrawPath=function(t,e,n,i,o){var a="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,0),new mxPoint(i-a,0),new mxPoint(i,o/2),new mxPoint(i-a,o),new mxPoint(0,o),new mxPoint(a,o/2)],this.isRounded,s,!0),t.end()},mxCellRenderer.registerShape("step",A),mxUtils.extend(L,mxHexagon),L.prototype.size=.25,L.prototype.fixedSize=20,L.prototype.isRoundable=function(){return!0},L.prototype.redrawPath=function(t,e,n,i,o){var a="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(.5*i,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(a,0),new mxPoint(i-a,0),new mxPoint(i,.5*o),new mxPoint(i-a,o),new mxPoint(a,o),new mxPoint(0,.5*o)],this.isRounded,s,!0)},mxCellRenderer.registerShape("hexagon",L),mxUtils.extend(k,mxRectangleShape),k.prototype.isHtmlAllowed=function(){return!1},k.prototype.paintForeground=function(t,e,n,i,o){var a=Math.min(i/5,o/5)+1;t.begin(),t.moveTo(e+i/2,n+a),t.lineTo(e+i/2,n+o-a),t.moveTo(e+a,n+o/2),t.lineTo(e+i-a,n+o/2),t.end(),t.stroke(),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.registerShape("plus",k);var F,W,_=mxRhombus.prototype.paintVertexShape;function Y(){mxRectangleShape.call(this)}function D(){mxCylinder.call(this)}function O(){mxShape.call(this)}function q(){mxShape.call(this)}function Z(){mxEllipse.call(this)}function H(){mxShape.call(this)}function B(){mxShape.call(this)}function G(){mxRectangleShape.call(this)}function X(){mxShape.call(this)}function j(){mxShape.call(this)}function J(){mxShape.call(this)}function Q(){mxShape.call(this)}function K(){mxShape.call(this)}function $(){mxCylinder.call(this)}function tt(){mxCylinder.call(this)}function et(){mxRectangleShape.call(this)}function nt(){mxDoubleEllipse.call(this)}function it(){nt.call(this)}function ot(){mxArrowConnector.call(this),this.spacing=0}function at(){mxArrowConnector.call(this),this.spacing=0}function st(){mxActor.call(this)}function lt(){mxRectangleShape.call(this)}function rt(){mxActor.call(this)}function mt(){mxActor.call(this)}function xt(){mxActor.call(this)}function ht(){mxActor.call(this)}function pt(){mxActor.call(this)}function ut(){mxActor.call(this)}function dt(){mxActor.call(this)}function ct(){mxActor.call(this)}function wt(){mxActor.call(this)}function yt(){mxActor.call(this)}function Ct(){mxEllipse.call(this)}function gt(){mxEllipse.call(this)}function ft(){mxEllipse.call(this)}function Tt(){mxRhombus.call(this)}function St(){mxEllipse.call(this)}function Pt(){mxEllipse.call(this)}function vt(){mxEllipse.call(this)}function Mt(){mxEllipse.call(this)}function Et(){mxActor.call(this)}function Rt(){mxActor.call(this)}function Ut(){mxActor.call(this)}function It(t,e,n,i){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=n,this.strokewidth=null!=i?i:1,this.rectStyle="square",this.size=10,this.absoluteCornerSize=!0,this.indent=2,this.rectOutline="single"}function Vt(){mxConnector.call(this)}function bt(t,e,n,i,o,a,s,l,r,m){s+=r;var x=i.clone();return i.x-=o*(2*s+r),i.y-=a*(2*s+r),o*=s+r,a*=s+r,function(){t.ellipse(x.x-o-s,x.y-a-s,2*s,2*s),m?t.fillAndStroke():t.stroke()}}if(mxRhombus.prototype.getLabelBounds=function(t){if(1==this.style.double){var e=(2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle(t.x+e,t.y+e,t.width-2*e,t.height-2*e)}return t},mxRhombus.prototype.paintVertexShape=function(t,e,n,i,o){if(_.apply(this,arguments),!this.outline&&1==this.style.double){var a=2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);e+=a,n+=a,o-=2*a,(i-=2*a)>0&&o>0&&(t.setShadow(!1),_.apply(this,[t,e,n,i,o]))}},mxUtils.extend(Y,mxRectangleShape),Y.prototype.isHtmlAllowed=function(){return!1},Y.prototype.getLabelBounds=function(t){if(1==this.style.double){var e=(Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle(t.x+e,t.y+e,t.width-2*e,t.height-2*e)}return t},Y.prototype.paintForeground=function(t,e,n,i,o){if(null!=this.style){if(!this.outline&&1==this.style.double){var a=Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);e+=a,n+=a,o-=2*a,(i-=2*a)>0&&o>0&&mxRectangleShape.prototype.paintBackground.apply(this,arguments)}t.setDashed(!1);var s=0,l=null;do{if(null!=(l=mxCellRenderer.defaultShapes[this.style["symbol"+s]])){var r=this.style["symbol"+s+"Align"],m=this.style["symbol"+s+"VerticalAlign"],x=this.style["symbol"+s+"Width"],h=this.style["symbol"+s+"Height"],p=this.style["symbol"+s+"Spacing"]||0,u=this.style["symbol"+s+"VSpacing"]||p,d=this.style["symbol"+s+"ArcSpacing"];if(null!=d){var c=this.getArcSize(i+this.strokewidth,o+this.strokewidth)*d;p+=c,u+=c}var w=e,y=n;r==mxConstants.ALIGN_CENTER?w+=(i-x)/2:r==mxConstants.ALIGN_RIGHT?w+=i-x-p:w+=p,m==mxConstants.ALIGN_MIDDLE?y+=(o-h)/2:m==mxConstants.ALIGN_BOTTOM?y+=o-h-u:y+=u,t.save();var C=new l;C.style=this.style,l.prototype.paintVertexShape.call(C,t,w,y,x,h),t.restore()}s++}while(null!=l)}mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.registerShape("ext",Y),mxUtils.extend(D,mxCylinder),D.prototype.redrawPath=function(t,e,n,i,o,a){a?(t.moveTo(0,0),t.lineTo(i/2,o/2),t.lineTo(i,0),t.end()):(t.moveTo(0,0),t.lineTo(i,0),t.lineTo(i,o),t.lineTo(0,o),t.close())},mxCellRenderer.registerShape("message",D),mxUtils.extend(O,mxShape),O.prototype.paintBackground=function(t,e,n,i,o){t.translate(e,n),t.ellipse(i/4,0,i/2,o/4),t.fillAndStroke(),t.begin(),t.moveTo(i/2,o/4),t.lineTo(i/2,2*o/3),t.moveTo(i/2,o/3),t.lineTo(0,o/3),t.moveTo(i/2,o/3),t.lineTo(i,o/3),t.moveTo(i/2,2*o/3),t.lineTo(0,o),t.moveTo(i/2,2*o/3),t.lineTo(i,o),t.end(),t.stroke()},mxCellRenderer.registerShape("umlActor",O),mxUtils.extend(q,mxShape),q.prototype.getLabelMargins=function(t){return new mxRectangle(t.width/6,0,0,0)},q.prototype.paintBackground=function(t,e,n,i,o){t.translate(e,n),t.begin(),t.moveTo(0,o/4),t.lineTo(0,3*o/4),t.end(),t.stroke(),t.begin(),t.moveTo(0,o/2),t.lineTo(i/6,o/2),t.end(),t.stroke(),t.ellipse(i/6,0,5*i/6,o),t.fillAndStroke()},mxCellRenderer.registerShape("umlBoundary",q),mxUtils.extend(Z,mxEllipse),Z.prototype.paintVertexShape=function(t,e,n,i,o){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.begin(),t.moveTo(e+i/8,n+o),t.lineTo(e+7*i/8,n+o),t.end(),t.stroke()},mxCellRenderer.registerShape("umlEntity",Z),mxUtils.extend(H,mxShape),H.prototype.paintVertexShape=function(t,e,n,i,o){t.translate(e,n),t.begin(),t.moveTo(i,0),t.lineTo(0,o),t.moveTo(0,0),t.lineTo(i,o),t.end(),t.stroke()},mxCellRenderer.registerShape("umlDestroy",H),mxUtils.extend(B,mxShape),B.prototype.getLabelBounds=function(t){return new mxRectangle(t.x,t.y+t.height/8,t.width,7*t.height/8)},B.prototype.paintBackground=function(t,e,n,i,o){t.translate(e,n),t.begin(),t.moveTo(3*i/8,o/8*1.1),t.lineTo(5*i/8,0),t.end(),t.stroke(),t.ellipse(0,o/8,i,7*o/8),t.fillAndStroke()},B.prototype.paintForeground=function(t,e,n,i,o){t.begin(),t.moveTo(3*i/8,o/8*1.1),t.lineTo(5*i/8,o/4),t.end(),t.stroke()},mxCellRenderer.registerShape("umlControl",B),mxUtils.extend(G,mxRectangleShape),G.prototype.size=40,G.prototype.isHtmlAllowed=function(){return!1},G.prototype.getLabelBounds=function(t){var e=Math.max(0,Math.min(t.height,parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale));return new mxRectangle(t.x,t.y,t.width,e)},G.prototype.paintBackground=function(t,e,n,i,o){var a=Math.max(0,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,"participant");if(null==s||null==this.state)mxRectangleShape.prototype.paintBackground.call(this,t,e,n,i,a);else{var l=this.state.view.graph.cellRenderer.getShape(s);if(null!=l&&l!=G){var r=new l;r.apply(this.state),t.save(),r.paintVertexShape(t,e,n,i,a),t.restore()}}a<o&&(t.setDashed("1"==mxUtils.getValue(this.style,"lifelineDashed","1")),t.begin(),t.moveTo(e+i/2,n+a),t.lineTo(e+i/2,n+o),t.end(),t.stroke())},G.prototype.paintForeground=function(t,e,n,i,o){var a=Math.max(0,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size))));mxRectangleShape.prototype.paintForeground.call(this,t,e,n,i,Math.min(o,a))},mxCellRenderer.registerShape("umlLifeline",G),mxUtils.extend(X,mxShape),X.prototype.width=60,X.prototype.height=30,X.prototype.corner=10,X.prototype.getLabelMargins=function(t){return new mxRectangle(0,0,t.width-parseFloat(mxUtils.getValue(this.style,"width",this.width)*this.scale),t.height-parseFloat(mxUtils.getValue(this.style,"height",this.height)*this.scale))},X.prototype.paintBackground=function(t,e,n,i,o){var a=this.corner,s=Math.min(i,Math.max(a,parseFloat(mxUtils.getValue(this.style,"width",this.width)))),l=Math.min(o,Math.max(1.5*a,parseFloat(mxUtils.getValue(this.style,"height",this.height)))),r=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE);r!=mxConstants.NONE&&(t.setFillColor(r),t.rect(e,n,i,o),t.fill()),null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE?(this.getGradientBounds(t,e,n,i,o),t.setGradient(this.fill,this.gradient,e,n,i,o,this.gradientDirection)):t.setFillColor(this.fill),t.begin(),t.moveTo(e,n),t.lineTo(e+s,n),t.lineTo(e+s,n+Math.max(0,l-1.5*a)),t.lineTo(e+Math.max(0,s-a),n+l),t.lineTo(e,n+l),t.close(),t.fillAndStroke(),t.begin(),t.moveTo(e+s,n),t.lineTo(e+i,n),t.lineTo(e+i,n+o),t.lineTo(e,n+o),t.lineTo(e,n+l),t.stroke()},mxCellRenderer.registerShape("umlFrame",X),mxPerimeter.CenterPerimeter=function(t,e,n,i){return new mxPoint(t.getCenterX(),t.getCenterY())},mxStyleRegistry.putValue("centerPerimeter",mxPerimeter.CenterPerimeter),mxPerimeter.LifelinePerimeter=function(t,e,n,i){var o=G.prototype.size;null!=e&&(o=mxUtils.getValue(e.style,"size",o)*e.view.scale);var a=parseFloat(e.style[mxConstants.STYLE_STROKEWIDTH]||1)*e.view.scale/2-1;return n.x<t.getCenterX()&&(a+=1,a*=-1),new mxPoint(t.getCenterX()+a,Math.min(t.y+t.height,Math.max(t.y+o,n.y)))},mxStyleRegistry.putValue("lifelinePerimeter",mxPerimeter.LifelinePerimeter),mxPerimeter.OrthogonalPerimeter=function(t,e,n,i){return i=!0,mxPerimeter.RectanglePerimeter.apply(this,arguments)},mxStyleRegistry.putValue("orthogonalPerimeter",mxPerimeter.OrthogonalPerimeter),mxPerimeter.BackbonePerimeter=function(t,e,n,i){var o=parseFloat(e.style[mxConstants.STYLE_STROKEWIDTH]||1)*e.view.scale/2-1;return null!=e.style.backboneSize&&(o+=parseFloat(e.style.backboneSize)*e.view.scale/2-1),"south"==e.style[mxConstants.STYLE_DIRECTION]||"north"==e.style[mxConstants.STYLE_DIRECTION]?(n.x<t.getCenterX()&&(o+=1,o*=-1),new mxPoint(t.getCenterX()+o,Math.min(t.y+t.height,Math.max(t.y,n.y)))):(n.y<t.getCenterY()&&(o+=1,o*=-1),new mxPoint(Math.min(t.x+t.width,Math.max(t.x,n.x)),t.getCenterY()+o))},mxStyleRegistry.putValue("backbonePerimeter",mxPerimeter.BackbonePerimeter),mxPerimeter.CalloutPerimeter=function(t,e,n,i){return mxPerimeter.RectanglePerimeter(mxUtils.getDirectedBounds(t,new mxRectangle(0,0,0,Math.max(0,Math.min(t.height,parseFloat(mxUtils.getValue(e.style,"size",z.prototype.size))*e.view.scale))),e.style),e,n,i)},mxStyleRegistry.putValue("calloutPerimeter",mxPerimeter.CalloutPerimeter),mxPerimeter.ParallelogramPerimeter=function(t,e,n,i){var o="0"!=mxUtils.getValue(e.style,"fixedSize","0"),a=o?S.prototype.fixedSize:S.prototype.size;null!=e&&(a=mxUtils.getValue(e.style,"size",a)),o&&(a*=e.view.scale);var s,l=t.x,r=t.y,m=t.width,x=t.height,h=null!=e?mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;if(h==mxConstants.DIRECTION_NORTH||h==mxConstants.DIRECTION_SOUTH){var p=o?Math.max(0,Math.min(x,a)):x*Math.max(0,Math.min(1,a));s=[new mxPoint(l,r),new mxPoint(l+m,r+p),new mxPoint(l+m,r+x),new mxPoint(l,r+x-p),new mxPoint(l,r)]}else{var u=o?Math.max(0,Math.min(.5*m,a)):m*Math.max(0,Math.min(1,a));s=[new mxPoint(l+u,r),new mxPoint(l+m,r),new mxPoint(l+m-u,r+x),new mxPoint(l,r+x),new mxPoint(l+u,r)]}var d=t.getCenterX(),c=t.getCenterY(),w=new mxPoint(d,c);return i&&(n.x<l||n.x>l+m?w.y=n.y:w.x=n.x),mxUtils.getPerimeterPoint(s,w,n)},mxStyleRegistry.putValue("parallelogramPerimeter",mxPerimeter.ParallelogramPerimeter),mxPerimeter.TrapezoidPerimeter=function(t,e,n,i){var o="0"!=mxUtils.getValue(e.style,"fixedSize","0"),a=o?P.prototype.fixedSize:P.prototype.size;null!=e&&(a=mxUtils.getValue(e.style,"size",a)),o&&(a*=e.view.scale);var s=t.x,l=t.y,r=t.width,m=t.height,x=null!=e?mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST,h=[];if(x==mxConstants.DIRECTION_EAST){var p=o?Math.max(0,Math.min(.5*r,a)):r*Math.max(0,Math.min(1,a));h=[new mxPoint(s+p,l),new mxPoint(s+r-p,l),new mxPoint(s+r,l+m),new mxPoint(s,l+m),new mxPoint(s+p,l)]}else if(x==mxConstants.DIRECTION_WEST)p=o?Math.max(0,Math.min(r,a)):r*Math.max(0,Math.min(1,a)),h=[new mxPoint(s,l),new mxPoint(s+r,l),new mxPoint(s+r-p,l+m),new mxPoint(s+p,l+m),new mxPoint(s,l)];else if(x==mxConstants.DIRECTION_NORTH){var u=o?Math.max(0,Math.min(m,a)):m*Math.max(0,Math.min(1,a));h=[new mxPoint(s,l+u),new mxPoint(s+r,l),new mxPoint(s+r,l+m),new mxPoint(s,l+m-u),new mxPoint(s,l+u)]}else u=o?Math.max(0,Math.min(m,a)):m*Math.max(0,Math.min(1,a)),h=[new mxPoint(s,l),new mxPoint(s+r,l+u),new mxPoint(s+r,l+m-u),new mxPoint(s,l+m),new mxPoint(s,l)];var d=t.getCenterX(),c=t.getCenterY(),w=new mxPoint(d,c);return i&&(n.x<s||n.x>s+r?w.y=n.y:w.x=n.x),mxUtils.getPerimeterPoint(h,w,n)},mxStyleRegistry.putValue("trapezoidPerimeter",mxPerimeter.TrapezoidPerimeter),mxPerimeter.StepPerimeter=function(t,e,n,i){var o="0"!=mxUtils.getValue(e.style,"fixedSize","0"),a=o?A.prototype.fixedSize:A.prototype.size;null!=e&&(a=mxUtils.getValue(e.style,"size",a)),o&&(a*=e.view.scale);var s,l=t.x,r=t.y,m=t.width,x=t.height,h=t.getCenterX(),p=t.getCenterY(),u=null!=e?mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;if(u==mxConstants.DIRECTION_EAST){var d=o?Math.max(0,Math.min(m,a)):m*Math.max(0,Math.min(1,a));s=[new mxPoint(l,r),new mxPoint(l+m-d,r),new mxPoint(l+m,p),new mxPoint(l+m-d,r+x),new mxPoint(l,r+x),new mxPoint(l+d,p),new mxPoint(l,r)]}else if(u==mxConstants.DIRECTION_WEST)d=o?Math.max(0,Math.min(m,a)):m*Math.max(0,Math.min(1,a)),s=[new mxPoint(l+d,r),new mxPoint(l+m,r),new mxPoint(l+m-d,p),new mxPoint(l+m,r+x),new mxPoint(l+d,r+x),new mxPoint(l,p),new mxPoint(l+d,r)];else if(u==mxConstants.DIRECTION_NORTH){var c=o?Math.max(0,Math.min(x,a)):x*Math.max(0,Math.min(1,a));s=[new mxPoint(l,r+c),new mxPoint(h,r),new mxPoint(l+m,r+c),new mxPoint(l+m,r+x),new mxPoint(h,r+x-c),new mxPoint(l,r+x),new mxPoint(l,r+c)]}else c=o?Math.max(0,Math.min(x,a)):x*Math.max(0,Math.min(1,a)),s=[new mxPoint(l,r),new mxPoint(h,r+c),new mxPoint(l+m,r),new mxPoint(l+m,r+x-c),new mxPoint(h,r+x),new mxPoint(l,r+x-c),new mxPoint(l,r)];var w=new mxPoint(h,p);return i&&(n.x<l||n.x>l+m?w.y=n.y:w.x=n.x),mxUtils.getPerimeterPoint(s,w,n)},mxStyleRegistry.putValue("stepPerimeter",mxPerimeter.StepPerimeter),mxPerimeter.HexagonPerimeter2=function(t,e,n,i){var o="0"!=mxUtils.getValue(e.style,"fixedSize","0"),a=o?L.prototype.fixedSize:L.prototype.size;null!=e&&(a=mxUtils.getValue(e.style,"size",a)),o&&(a*=e.view.scale);var s,l=t.x,r=t.y,m=t.width,x=t.height,h=t.getCenterX(),p=t.getCenterY(),u=null!=e?mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;if(u==mxConstants.DIRECTION_NORTH||u==mxConstants.DIRECTION_SOUTH){var d=o?Math.max(0,Math.min(x,a)):x*Math.max(0,Math.min(1,a));s=[new mxPoint(h,r),new mxPoint(l+m,r+d),new mxPoint(l+m,r+x-d),new mxPoint(h,r+x),new mxPoint(l,r+x-d),new mxPoint(l,r+d),new mxPoint(h,r)]}else{var c=o?Math.max(0,Math.min(m,a)):m*Math.max(0,Math.min(1,a));s=[new mxPoint(l+c,r),new mxPoint(l+m-c,r),new mxPoint(l+m,p),new mxPoint(l+m-c,r+x),new mxPoint(l+c,r+x),new mxPoint(l,p),new mxPoint(l+c,r)]}var w=new mxPoint(h,p);return i&&(n.x<l||n.x>l+m?w.y=n.y:w.x=n.x),mxUtils.getPerimeterPoint(s,w,n)},mxStyleRegistry.putValue("hexagonPerimeter2",mxPerimeter.HexagonPerimeter2),mxUtils.extend(j,mxShape),j.prototype.size=10,j.prototype.paintBackground=function(t,e,n,i,o){var a=parseFloat(mxUtils.getValue(this.style,"size",this.size));t.translate(e,n),t.ellipse((i-a)/2,0,a,a),t.fillAndStroke(),t.begin(),t.moveTo(i/2,a),t.lineTo(i/2,o),t.end(),t.stroke()},mxCellRenderer.registerShape("lollipop",j),mxUtils.extend(J,mxShape),J.prototype.size=10,J.prototype.inset=2,J.prototype.paintBackground=function(t,e,n,i,o){var a=parseFloat(mxUtils.getValue(this.style,"size",this.size)),s=parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;t.translate(e,n),t.begin(),t.moveTo(i/2,a+s),t.lineTo(i/2,o),t.end(),t.stroke(),t.begin(),t.moveTo((i-a)/2-s,a/2),t.quadTo((i-a)/2-s,a+s,i/2,a+s),t.quadTo((i+a)/2+s,a+s,(i+a)/2+s,a/2),t.end(),t.stroke()},mxCellRenderer.registerShape("requires",J),mxUtils.extend(Q,mxShape),Q.prototype.paintBackground=function(t,e,n,i,o){t.translate(e,n),t.begin(),t.moveTo(0,0),t.quadTo(i,0,i,o/2),t.quadTo(i,o,0,o),t.end(),t.stroke()},mxCellRenderer.registerShape("requiredInterface",Q),mxUtils.extend(K,mxShape),K.prototype.inset=2,K.prototype.paintBackground=function(t,e,n,i,o){var a=parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;t.translate(e,n),t.ellipse(0,a,i-2*a,o-2*a),t.fillAndStroke(),t.begin(),t.moveTo(i/2,0),t.quadTo(i,0,i,o/2),t.quadTo(i,o,i/2,o),t.end(),t.stroke()},mxCellRenderer.registerShape("providedRequiredInterface",K),mxUtils.extend($,mxCylinder),$.prototype.jettyWidth=20,$.prototype.jettyHeight=10,$.prototype.redrawPath=function(t,e,n,i,o,a){var s=parseFloat(mxUtils.getValue(this.style,"jettyWidth",this.jettyWidth)),l=parseFloat(mxUtils.getValue(this.style,"jettyHeight",this.jettyHeight)),r=s/2,m=r+s/2,x=Math.min(l,o-l),h=Math.min(x+2*l,o-l);a?(t.moveTo(r,x),t.lineTo(m,x),t.lineTo(m,x+l),t.lineTo(r,x+l),t.moveTo(r,h),t.lineTo(m,h),t.lineTo(m,h+l),t.lineTo(r,h+l),t.end()):(t.moveTo(r,0),t.lineTo(i,0),t.lineTo(i,o),t.lineTo(r,o),t.lineTo(r,h+l),t.lineTo(0,h+l),t.lineTo(0,h),t.lineTo(r,h),t.lineTo(r,x+l),t.lineTo(0,x+l),t.lineTo(0,x),t.lineTo(r,x),t.close(),t.end())},mxCellRenderer.registerShape("module",$),mxUtils.extend(tt,mxCylinder),tt.prototype.jettyWidth=32,tt.prototype.jettyHeight=12,tt.prototype.redrawPath=function(t,e,n,i,o,a){var s=parseFloat(mxUtils.getValue(this.style,"jettyWidth",this.jettyWidth)),l=parseFloat(mxUtils.getValue(this.style,"jettyHeight",this.jettyHeight)),r=s/2,m=r+s/2,x=.3*o-l/2,h=.7*o-l/2;a?(t.moveTo(r,x),t.lineTo(m,x),t.lineTo(m,x+l),t.lineTo(r,x+l),t.moveTo(r,h),t.lineTo(m,h),t.lineTo(m,h+l),t.lineTo(r,h+l),t.end()):(t.moveTo(r,0),t.lineTo(i,0),t.lineTo(i,o),t.lineTo(r,o),t.lineTo(r,h+l),t.lineTo(0,h+l),t.lineTo(0,h),t.lineTo(r,h),t.lineTo(r,x+l),t.lineTo(0,x+l),t.lineTo(0,x),t.lineTo(r,x),t.close(),t.end())},mxCellRenderer.registerShape("component",tt),mxUtils.extend(et,mxRectangleShape),et.prototype.paintForeground=function(t,e,n,i,o){var a=i/2,s=o/2,l=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,[new mxPoint(e+a,n),new mxPoint(e+i,n+s),new mxPoint(e+a,n+o),new mxPoint(e,n+s)],this.isRounded,l,!0),t.stroke(),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxCellRenderer.registerShape("associativeEntity",et),mxUtils.extend(nt,mxDoubleEllipse),nt.prototype.outerStroke=!0,nt.prototype.paintVertexShape=function(t,e,n,i,o){var a=Math.min(4,Math.min(i/5,o/5));i>0&&o>0&&(t.ellipse(e+a,n+a,i-2*a,o-2*a),t.fillAndStroke()),t.setShadow(!1),this.outerStroke&&(t.ellipse(e,n,i,o),t.stroke())},mxCellRenderer.registerShape("endState",nt),mxUtils.extend(it,nt),it.prototype.outerStroke=!1,mxCellRenderer.registerShape("startState",it),mxUtils.extend(ot,mxArrowConnector),ot.prototype.defaultWidth=4,ot.prototype.isOpenEnded=function(){return!0},ot.prototype.getEdgeWidth=function(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)},ot.prototype.isArrowRounded=function(){return this.isRounded},mxCellRenderer.registerShape("link",ot),mxUtils.extend(at,mxArrowConnector),at.prototype.defaultWidth=10,at.prototype.defaultArrowWidth=20,at.prototype.getStartArrowWidth=function(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"startWidth",this.defaultArrowWidth)},at.prototype.getEndArrowWidth=function(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"endWidth",this.defaultArrowWidth)},at.prototype.getEdgeWidth=function(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)},mxCellRenderer.registerShape("flexArrow",at),mxUtils.extend(st,mxActor),st.prototype.size=30,st.prototype.isRoundable=function(){return!0},st.prototype.redrawPath=function(t,e,n,i,o){var a=Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,o),new mxPoint(0,a),new mxPoint(i,0),new mxPoint(i,o)],this.isRounded,s,!0),t.end()},mxCellRenderer.registerShape("manualInput",st),mxUtils.extend(lt,mxRectangleShape),lt.prototype.dx=20,lt.prototype.dy=20,lt.prototype.isHtmlAllowed=function(){return!1},lt.prototype.paintForeground=function(t,e,n,i,o){mxRectangleShape.prototype.paintForeground.apply(this,arguments);var a=0;if(this.isRounded){var s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;a=Math.max(a,Math.min(i*s,o*s))}var l=Math.max(a,Math.min(i,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),r=Math.max(a,Math.min(o,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));t.begin(),t.moveTo(e,n+r),t.lineTo(e+i,n+r),t.end(),t.stroke(),t.begin(),t.moveTo(e+l,n),t.lineTo(e+l,n+o),t.end(),t.stroke()},mxCellRenderer.registerShape("internalStorage",lt),mxUtils.extend(rt,mxActor),rt.prototype.dx=20,rt.prototype.dy=20,rt.prototype.redrawPath=function(t,e,n,i,o){var a=Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),s=Math.max(0,Math.min(o,parseFloat(mxUtils.getValue(this.style,"dy",this.dy)))),l=(Math.min(i/2,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2);this.addPoints(t,[new mxPoint(0,0),new mxPoint(i,0),new mxPoint(i,s),new mxPoint(a,s),new mxPoint(a,o),new mxPoint(0,o)],this.isRounded,l,!0),t.end()},mxCellRenderer.registerShape("corner",rt),mxUtils.extend(mt,mxActor),mt.prototype.redrawPath=function(t,e,n,i,o){t.moveTo(0,0),t.lineTo(0,o),t.end(),t.moveTo(i,0),t.lineTo(i,o),t.end(),t.moveTo(0,o/2),t.lineTo(i,o/2),t.end()},mxCellRenderer.registerShape("crossbar",mt),mxUtils.extend(xt,mxActor),xt.prototype.dx=20,xt.prototype.dy=20,xt.prototype.redrawPath=function(t,e,n,i,o){var a=Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),s=Math.max(0,Math.min(o,parseFloat(mxUtils.getValue(this.style,"dy",this.dy)))),l=(Math.abs(i-a),Math.min(i/2,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2);this.addPoints(t,[new mxPoint(0,0),new mxPoint(i,0),new mxPoint(i,s),new mxPoint((i+a)/2,s),new mxPoint((i+a)/2,o),new mxPoint((i-a)/2,o),new mxPoint((i-a)/2,s),new mxPoint(0,s)],this.isRounded,l,!0),t.end()},mxCellRenderer.registerShape("tee",xt),mxUtils.extend(ht,mxActor),ht.prototype.arrowWidth=.3,ht.prototype.arrowSize=.2,ht.prototype.redrawPath=function(t,e,n,i,o){var a=o*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth)))),s=i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize)))),l=(o-a)/2,r=l+a,m=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,l),new mxPoint(i-s,l),new mxPoint(i-s,0),new mxPoint(i,o/2),new mxPoint(i-s,o),new mxPoint(i-s,r),new mxPoint(0,r)],this.isRounded,m,!0),t.end()},mxCellRenderer.registerShape("singleArrow",ht),mxUtils.extend(pt,mxActor),pt.prototype.redrawPath=function(t,e,n,i,o){var a=o*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",ht.prototype.arrowWidth)))),s=i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",ht.prototype.arrowSize)))),l=(o-a)/2,r=l+a,m=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,o/2),new mxPoint(s,0),new mxPoint(s,l),new mxPoint(i-s,l),new mxPoint(i-s,0),new mxPoint(i,o/2),new mxPoint(i-s,o),new mxPoint(i-s,r),new mxPoint(s,r),new mxPoint(s,o)],this.isRounded,m,!0),t.end()},mxCellRenderer.registerShape("doubleArrow",pt),mxUtils.extend(ut,mxActor),ut.prototype.size=.1,ut.prototype.fixedSize=20,ut.prototype.redrawPath=function(t,e,n,i,o){var a="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):i*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));t.moveTo(a,0),t.lineTo(i,0),t.quadTo(i-2*a,o/2,i,o),t.lineTo(a,o),t.quadTo(a-2*a,o/2,a,0),t.close(),t.end()},mxCellRenderer.registerShape("dataStorage",ut),mxUtils.extend(dt,mxActor),dt.prototype.redrawPath=function(t,e,n,i,o){t.moveTo(0,0),t.quadTo(i,0,i,o/2),t.quadTo(i,o,0,o),t.close(),t.end()},mxCellRenderer.registerShape("or",dt),mxUtils.extend(ct,mxActor),ct.prototype.redrawPath=function(t,e,n,i,o){t.moveTo(0,0),t.quadTo(i,0,i,o/2),t.quadTo(i,o,0,o),t.quadTo(i/2,o/2,0,0),t.close(),t.end()},mxCellRenderer.registerShape("xor",ct),mxUtils.extend(wt,mxActor),wt.prototype.size=20,wt.prototype.isRoundable=function(){return!0},wt.prototype.redrawPath=function(t,e,n,i,o){var a=Math.min(i/2,Math.min(o,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(a,0),new mxPoint(i-a,0),new mxPoint(i,.8*a),new mxPoint(i,o),new mxPoint(0,o),new mxPoint(0,.8*a)],this.isRounded,s,!0),t.end()},mxCellRenderer.registerShape("loopLimit",wt),mxUtils.extend(yt,mxActor),yt.prototype.size=3/8,yt.prototype.isRoundable=function(){return!0},yt.prototype.redrawPath=function(t,e,n,i,o){var a=o*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,0),new mxPoint(i,0),new mxPoint(i,o-a),new mxPoint(i/2,o),new mxPoint(0,o-a)],this.isRounded,s,!0),t.end()},mxCellRenderer.registerShape("offPageConnector",yt),mxUtils.extend(Ct,mxEllipse),Ct.prototype.paintVertexShape=function(t,e,n,i,o){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.begin(),t.moveTo(e+i/2,n+o),t.lineTo(e+i,n+o),t.end(),t.stroke()},mxCellRenderer.registerShape("tapeData",Ct),mxUtils.extend(gt,mxEllipse),gt.prototype.paintVertexShape=function(t,e,n,i,o){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.setShadow(!1),t.begin(),t.moveTo(e,n+o/2),t.lineTo(e+i,n+o/2),t.end(),t.stroke(),t.begin(),t.moveTo(e+i/2,n),t.lineTo(e+i/2,n+o),t.end(),t.stroke()},mxCellRenderer.registerShape("orEllipse",gt),mxUtils.extend(ft,mxEllipse),ft.prototype.paintVertexShape=function(t,e,n,i,o){mxEllipse.prototype.paintVertexShape.apply(this,arguments);var a=.145;t.setShadow(!1),t.begin(),t.moveTo(e+i*a,n+o*a),t.lineTo(e+i*(1-a),n+o*(1-a)),t.end(),t.stroke(),t.begin(),t.moveTo(e+i*(1-a),n+o*a),t.lineTo(e+i*a,n+o*(1-a)),t.end(),t.stroke()},mxCellRenderer.registerShape("sumEllipse",ft),mxUtils.extend(Tt,mxRhombus),Tt.prototype.paintVertexShape=function(t,e,n,i,o){mxRhombus.prototype.paintVertexShape.apply(this,arguments),t.setShadow(!1),t.begin(),t.moveTo(e,n+o/2),t.lineTo(e+i,n+o/2),t.end(),t.stroke()},mxCellRenderer.registerShape("sortShape",Tt),mxUtils.extend(St,mxEllipse),St.prototype.paintVertexShape=function(t,e,n,i,o){t.begin(),t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i/2,n+o/2),t.close(),t.fillAndStroke(),t.begin(),t.moveTo(e,n+o),t.lineTo(e+i,n+o),t.lineTo(e+i/2,n+o/2),t.close(),t.fillAndStroke()},mxCellRenderer.registerShape("collate",St),mxUtils.extend(Pt,mxEllipse),Pt.prototype.paintVertexShape=function(t,e,n,i,o){var a=n+o-5;t.begin(),t.moveTo(e,n),t.lineTo(e,n+o),t.moveTo(e,a),t.lineTo(e+10,a-5),t.moveTo(e,a),t.lineTo(e+10,a+5),t.moveTo(e,a),t.lineTo(e+i,a),t.moveTo(e+i,n),t.lineTo(e+i,n+o),t.moveTo(e+i,a),t.lineTo(e+i-10,a-5),t.moveTo(e+i,a),t.lineTo(e+i-10,a+5),t.end(),t.stroke()},mxCellRenderer.registerShape("dimension",Pt),mxUtils.extend(vt,mxEllipse),vt.prototype.paintVertexShape=function(t,e,n,i,o){if(this.outline||t.setStrokeColor(null),null!=this.style){var a=t.pointerEvents;"1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")||null!=this.fill&&this.fill!=mxConstants.NONE||(t.pointerEvents=!1),t.rect(e,n,i,o),t.fill(),t.pointerEvents=a,t.setStrokeColor(this.stroke),t.setLineCap("square"),t.begin(),t.moveTo(e,n),this.outline||"1"==mxUtils.getValue(this.style,"top","1")?t.lineTo(e+i,n):t.moveTo(e+i,n),this.outline||"1"==mxUtils.getValue(this.style,"right","1")?t.lineTo(e+i,n+o):t.moveTo(e+i,n+o),this.outline||"1"==mxUtils.getValue(this.style,"bottom","1")?t.lineTo(e,n+o):t.moveTo(e,n+o),(this.outline||"1"==mxUtils.getValue(this.style,"left","1"))&&t.lineTo(e,n),t.end(),t.stroke(),t.setLineCap("flat")}},mxCellRenderer.registerShape("partialRectangle",vt),mxUtils.extend(Mt,mxEllipse),Mt.prototype.paintVertexShape=function(t,e,n,i,o){mxEllipse.prototype.paintVertexShape.apply(this,arguments),t.setShadow(!1),t.begin(),"vertical"==mxUtils.getValue(this.style,"line")?(t.moveTo(e+i/2,n),t.lineTo(e+i/2,n+o)):(t.moveTo(e,n+o/2),t.lineTo(e+i,n+o/2)),t.end(),t.stroke()},mxCellRenderer.registerShape("lineEllipse",Mt),mxUtils.extend(Et,mxActor),Et.prototype.redrawPath=function(t,e,n,i,o){var a=Math.min(i,o/2);t.moveTo(0,0),t.lineTo(i-a,0),t.quadTo(i,0,i,o/2),t.quadTo(i,o,i-a,o),t.lineTo(0,o),t.close(),t.end()},mxCellRenderer.registerShape("delay",Et),mxUtils.extend(Rt,mxActor),Rt.prototype.size=.2,Rt.prototype.redrawPath=function(t,e,n,i,o){var a=Math.min(o,i),s=Math.max(0,Math.min(a,a*parseFloat(mxUtils.getValue(this.style,"size",this.size)))),l=(o-s)/2,r=l+s,m=(i-s)/2,x=m+s;t.moveTo(0,l),t.lineTo(m,l),t.lineTo(m,0),t.lineTo(x,0),t.lineTo(x,l),t.lineTo(i,l),t.lineTo(i,r),t.lineTo(x,r),t.lineTo(x,o),t.lineTo(m,o),t.lineTo(m,r),t.lineTo(0,r),t.close(),t.end()},mxCellRenderer.registerShape("cross",Rt),mxUtils.extend(Ut,mxActor),Ut.prototype.size=.25,Ut.prototype.redrawPath=function(t,e,n,i,o){var a=Math.min(i,o/2),s=Math.min(i-a,Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size)))*i);t.moveTo(0,o/2),t.lineTo(s,0),t.lineTo(i-a,0),t.quadTo(i,0,i,o/2),t.quadTo(i,o,i-a,o),t.lineTo(s,o),t.close(),t.end()},mxCellRenderer.registerShape("display",Ut),mxUtils.extend(It,mxActor),It.prototype.cst={RECT2:"mxgraph.basic.rect"},It.prototype.customProperties=[{name:"rectStyle",dispName:"Style",type:"enum",defVal:"square",enumList:[{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"size",dispName:"Corner Size",type:"float",defVal:10},{name:"absoluteCornerSize",dispName:"Abs. Corner Size",type:"bool",defVal:!0},{name:"indent",dispName:"Indent",type:"float",defVal:2},{name:"rectOutline",dispName:"Outline",type:"enum",defVal:"single",enumList:[{val:"single",dispName:"Single"},{val:"double",dispName:"Double"},{val:"frame",dispName:"Frame"}]},{name:"fillColor2",dispName:"Inside Fill Color",type:"color",defVal:"none"},{name:"gradientColor2",dispName:"Inside Gradient Color",type:"color",defVal:"none"},{name:"gradientDirection2",dispName:"Inside Gradient Direction",type:"enum",defVal:"south",enumList:[{val:"south",dispName:"South"},{val:"west",dispName:"West"},{val:"north",dispName:"North"},{val:"east",dispName:"East"}]},{name:"top",dispName:"Top Line",type:"bool",defVal:!0},{name:"right",dispName:"Right",type:"bool",defVal:!0},{name:"bottom",dispName:"Bottom Line",type:"bool",defVal:!0},{name:"left",dispName:"Left ",type:"bool",defVal:!0},{name:"topLeftStyle",dispName:"Top Left Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"topRightStyle",dispName:"Top Right Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"bottomRightStyle",dispName:"Bottom Right Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]},{name:"bottomLeftStyle",dispName:"Bottom Left Style",type:"enum",defVal:"default",enumList:[{val:"default",dispName:"Default"},{val:"square",dispName:"Square"},{val:"rounded",dispName:"Round"},{val:"snip",dispName:"Snip"},{val:"invRound",dispName:"Inv. Round"},{val:"fold",dispName:"Fold"}]}],It.prototype.paintVertexShape=function(t,e,n,i,o){t.translate(e,n),this.strictDrawShape(t,0,0,i,o)},It.prototype.strictDrawShape=function(t,e,n,i,o,a){var s=a&&a.rectStyle?a.rectStyle:mxUtils.getValue(this.style,"rectStyle",this.rectStyle),l=a&&a.absoluteCornerSize?a.absoluteCornerSize:mxUtils.getValue(this.style,"absoluteCornerSize",this.absoluteCornerSize),r=a&&a.size?a.size:Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),m=a&&a.rectOutline?a.rectOutline:mxUtils.getValue(this.style,"rectOutline",this.rectOutline),x=a&&a.indent?a.indent:Math.max(0,Math.min(i,parseFloat(mxUtils.getValue(this.style,"indent",this.indent)))),h=a&&a.dashed?a.dashed:mxUtils.getValue(this.style,"dashed",!1),p=a&&a.dashPattern?a.dashPattern:mxUtils.getValue(this.style,"dashPattern",null),u=a&&a.relIndent?a.relIndent:Math.max(0,Math.min(50,x)),d=a&&a.top?a.top:mxUtils.getValue(this.style,"top",!0),c=a&&a.right?a.right:mxUtils.getValue(this.style,"right",!0),w=a&&a.bottom?a.bottom:mxUtils.getValue(this.style,"bottom",!0),y=a&&a.left?a.left:mxUtils.getValue(this.style,"left",!0),C=a&&a.topLeftStyle?a.topLeftStyle:mxUtils.getValue(this.style,"topLeftStyle","default"),g=a&&a.topRightStyle?a.topRightStyle:mxUtils.getValue(this.style,"topRightStyle","default"),f=a&&a.bottomRightStyle?a.bottomRightStyle:mxUtils.getValue(this.style,"bottomRightStyle","default"),T=a&&a.bottomLeftStyle?a.bottomLeftStyle:mxUtils.getValue(this.style,"bottomLeftStyle","default"),S=a&&a.fillColor?a.fillColor:mxUtils.getValue(this.style,"fillColor","#ffffff"),P=(a&&a.strokeColor?a.strokeColor:mxUtils.getValue(this.style,"strokeColor","#000000"),a&&a.strokeWidth?a.strokeWidth:mxUtils.getValue(this.style,"strokeWidth","1")),v=a&&a.fillColor2?a.fillColor2:mxUtils.getValue(this.style,"fillColor2","none"),M=a&&a.gradientColor2?a.gradientColor2:mxUtils.getValue(this.style,"gradientColor2","none"),E=a&&a.gradientDirection2?a.gradientDirection2:mxUtils.getValue(this.style,"gradientDirection2","south"),R=a&&a.opacity?a.opacity:mxUtils.getValue(this.style,"opacity","100"),U=Math.max(0,Math.min(50,r)),I=It.prototype;if(t.setDashed(h),p&&""!=p&&t.setDashPattern(p),t.setStrokeWidth(P),r=Math.min(.5*o,.5*i,r),l||(r=U*Math.min(i,o)/100),r=Math.min(r,.5*Math.min(i,o)),l||(x=Math.min(u*Math.min(i,o)/100)),x=Math.min(x,.5*Math.min(i,o)-r),(d||c||w||y)&&"frame"!=m){t.begin(),d?I.moveNW(t,e,n,i,o,s,C,r,y):t.moveTo(0,0),d&&I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),c&&I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),w&&I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),y&&I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),t.close(),t.fill(),t.setShadow(!1),t.setFillColor(v);var V=R,b=R;"none"==v&&(V=0),"none"==M&&(b=0),t.setGradient(v,M,0,0,i,o,E,V,b),t.begin(),d?I.moveNWInner(t,e,n,i,o,s,C,r,x,d,y):t.moveTo(x,0),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),y&&w&&I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),w&&c&&I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),c&&d&&I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),d&&y&&I.paintNWInner(t,e,n,i,o,s,C,r,x),t.fill(),"none"==S&&(t.begin(),I.paintFolds(t,e,n,i,o,s,C,g,f,T,r,d,c,w,y),t.stroke())}d||c||w||!y?d||c||!w||y?!d&&!c&&w&&y?"frame"!=m?(t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),"double"==m&&(I.moveNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w)),t.stroke()):(t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.lineNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),t.close(),t.fillAndStroke()):d||!c||w||y?!d&&c&&!w&&y?"frame"!=m?(t.begin(),I.moveSW(t,e,n,i,o,s,C,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),"double"==m&&(I.moveNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y)),t.stroke(),t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),"double"==m&&(I.moveSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c)),t.stroke()):(t.begin(),I.moveSW(t,e,n,i,o,s,C,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.lineNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),t.close(),t.fillAndStroke(),t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.lineSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),t.close(),t.fillAndStroke()):!d&&c&&w&&!y?"frame"!=m?(t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),"double"==m&&(I.moveSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c)),t.stroke()):(t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.lineSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),t.close(),t.fillAndStroke()):!d&&c&&w&&y?"frame"!=m?(t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),"double"==m&&(I.moveNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c)),t.stroke()):(t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.lineNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),t.close(),t.fillAndStroke()):!d||c||w||y?d&&!c&&!w&&y?"frame"!=m?(t.begin(),I.moveSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),"double"==m&&(I.moveNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y)),t.stroke()):(t.begin(),I.moveSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.lineNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),t.close(),t.fillAndStroke()):d&&!c&&w&&!y?"frame"!=m?(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),"double"==m&&(I.moveNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d)),t.stroke(),t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),"double"==m&&(I.moveSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w)),t.stroke()):(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.lineNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),t.close(),t.fillAndStroke(),t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.lineSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),t.close(),t.fillAndStroke()):d&&!c&&w&&y?"frame"!=m?(t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),"double"==m&&(I.moveNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w)),t.stroke()):(t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.lineNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),t.close(),t.fillAndStroke()):d&&c&&!w&&!y?"frame"!=m?(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),"double"==m&&(I.moveSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d)),t.stroke()):(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.lineSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),t.close(),t.fillAndStroke()):d&&c&&!w&&y?"frame"!=m?(t.begin(),I.moveSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),"double"==m&&(I.moveSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y)),t.stroke()):(t.begin(),I.moveSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.lineSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),t.close(),t.fillAndStroke()):d&&c&&w&&!y?"frame"!=m?(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),"double"==m&&(I.moveSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d)),t.stroke()):(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.lineSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),t.close(),t.fillAndStroke()):d&&c&&w&&y&&("frame"!=m?(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),t.close(),"double"==m&&(I.moveSWInner(t,e,n,i,o,s,T,r,x,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),t.close()),t.stroke()):(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.paintNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.paintSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.paintSW(t,e,n,i,o,s,T,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),t.close(),I.moveSWInner(t,e,n,i,o,s,T,r,x,y),I.paintSWInner(t,e,n,i,o,s,T,r,x,w),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),I.paintSEInner(t,e,n,i,o,s,f,r,x),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),I.paintNEInner(t,e,n,i,o,s,g,r,x),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),I.paintNWInner(t,e,n,i,o,s,C,r,x),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),t.close(),t.fillAndStroke())):"frame"!=m?(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),"double"==m&&(I.moveNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d)),t.stroke()):(t.begin(),I.moveNW(t,e,n,i,o,s,C,r,y),I.paintTop(t,e,n,i,o,s,g,r,c),I.lineNEInner(t,e,n,i,o,s,g,r,x,c),I.paintTopInner(t,e,n,i,o,s,C,r,x,y,d),t.close(),t.fillAndStroke()):"frame"!=m?(t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),"double"==m&&(I.moveSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c)),t.stroke()):(t.begin(),I.moveNE(t,e,n,i,o,s,g,r,d),I.paintRight(t,e,n,i,o,s,f,r,w),I.lineSEInner(t,e,n,i,o,s,f,r,x,w),I.paintRightInner(t,e,n,i,o,s,g,r,x,d,c),t.close(),t.fillAndStroke()):"frame"!=m?(t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),"double"==m&&(I.moveSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w)),t.stroke()):(t.begin(),I.moveSE(t,e,n,i,o,s,f,r,c),I.paintBottom(t,e,n,i,o,s,T,r,y),I.lineSWInner(t,e,n,i,o,s,T,r,x,y),I.paintBottomInner(t,e,n,i,o,s,f,r,x,c,w),t.close(),t.fillAndStroke()):"frame"!=m?(t.begin(),I.moveSW(t,e,n,i,o,s,C,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),"double"==m&&(I.moveNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y)),t.stroke()):(t.begin(),I.moveSW(t,e,n,i,o,s,C,r,w),I.paintLeft(t,e,n,i,o,s,C,r,d),I.lineNWInner(t,e,n,i,o,s,C,r,x,d,y),I.paintLeftInner(t,e,n,i,o,s,T,r,x,w,y),t.close(),t.fillAndStroke()),t.begin(),I.paintFolds(t,e,n,i,o,s,C,g,f,T,r,d,c,w,y),t.stroke()},It.prototype.moveNW=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.moveTo(0,0):t.moveTo(0,l)},It.prototype.moveNE=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.moveTo(i,0):t.moveTo(i-l,0)},It.prototype.moveSE=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.moveTo(i,o):t.moveTo(i,o-l)},It.prototype.moveSW=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.moveTo(0,o):t.moveTo(l,o)},It.prototype.paintNW=function(t,e,n,i,o,a,s,l,r){if(r)if("rounded"==s||"default"==s&&"rounded"==a||"invRound"==s||"default"==s&&"invRound"==a){var m=0;("rounded"==s||"default"==s&&"rounded"==a)&&(m=1),t.arcTo(l,l,0,0,m,l,0)}else("snip"==s||"default"==s&&"snip"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(l,0);else t.lineTo(0,0)},It.prototype.paintTop=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.lineTo(i,0):t.lineTo(i-l,0)},It.prototype.paintNE=function(t,e,n,i,o,a,s,l,r){if(r)if("rounded"==s||"default"==s&&"rounded"==a||"invRound"==s||"default"==s&&"invRound"==a){var m=0;("rounded"==s||"default"==s&&"rounded"==a)&&(m=1),t.arcTo(l,l,0,0,m,i,l)}else("snip"==s||"default"==s&&"snip"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(i,l);else t.lineTo(i,0)},It.prototype.paintRight=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.lineTo(i,o):t.lineTo(i,o-l)},It.prototype.paintLeft=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.lineTo(0,0):t.lineTo(0,l)},It.prototype.paintSE=function(t,e,n,i,o,a,s,l,r){if(r)if("rounded"==s||"default"==s&&"rounded"==a||"invRound"==s||"default"==s&&"invRound"==a){var m=0;("rounded"==s||"default"==s&&"rounded"==a)&&(m=1),t.arcTo(l,l,0,0,m,i-l,o)}else("snip"==s||"default"==s&&"snip"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(i-l,o);else t.lineTo(i,o)},It.prototype.paintBottom=function(t,e,n,i,o,a,s,l,r){"square"==s||"default"==s&&"square"==a||!r?t.lineTo(0,o):t.lineTo(l,o)},It.prototype.paintSW=function(t,e,n,i,o,a,s,l,r){if(r)if("rounded"==s||"default"==s&&"rounded"==a||"invRound"==s||"default"==s&&"invRound"==a){var m=0;("rounded"==s||"default"==s&&"rounded"==a)&&(m=1),t.arcTo(l,l,0,0,m,0,o-l)}else("snip"==s||"default"==s&&"snip"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(0,o-l);else t.lineTo(0,o)},It.prototype.paintNWInner=function(t,e,n,i,o,a,s,l,r){"rounded"==s||"default"==s&&"rounded"==a?t.arcTo(l-.5*r,l-.5*r,0,0,0,r,.5*r+l):"invRound"==s||"default"==s&&"invRound"==a?t.arcTo(l+r,l+r,0,0,1,r,r+l):"snip"==s||"default"==s&&"snip"==a?t.lineTo(r,.5*r+l):("fold"==s||"default"==s&&"fold"==a)&&(t.lineTo(r+l,r+l),t.lineTo(r,r+l))},It.prototype.paintTopInner=function(t,e,n,i,o,a,s,l,r,m,x){m||x?!m&&x?t.lineTo(0,r):m&&!x?t.lineTo(r,0):m?"square"==s||"default"==s&&"square"==a?t.lineTo(r,r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(l+.5*r,r):t.lineTo(l+r,r):t.lineTo(0,r):t.lineTo(0,0)},It.prototype.paintNEInner=function(t,e,n,i,o,a,s,l,r){"rounded"==s||"default"==s&&"rounded"==a?t.arcTo(l-.5*r,l-.5*r,0,0,0,i-l-.5*r,r):"invRound"==s||"default"==s&&"invRound"==a?t.arcTo(l+r,l+r,0,0,1,i-l-r,r):"snip"==s||"default"==s&&"snip"==a?t.lineTo(i-l-.5*r,r):("fold"==s||"default"==s&&"fold"==a)&&(t.lineTo(i-l-r,l+r),t.lineTo(i-l-r,r))},It.prototype.paintRightInner=function(t,e,n,i,o,a,s,l,r,m,x){m||x?!m&&x?t.lineTo(i-r,0):m&&!x?t.lineTo(i,r):m?"square"==s||"default"==s&&"square"==a?t.lineTo(i-r,r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(i-r,l+.5*r):t.lineTo(i-r,l+r):t.lineTo(i-r,0):t.lineTo(i,0)},It.prototype.paintLeftInner=function(t,e,n,i,o,a,s,l,r,m,x){m||x?!m&&x?t.lineTo(r,o):m&&!x?t.lineTo(0,o-r):m?"square"==s||"default"==s&&"square"==a?t.lineTo(r,o-r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(r,o-l-.5*r):t.lineTo(r,o-l-r):t.lineTo(r,o):t.lineTo(0,o)},It.prototype.paintSEInner=function(t,e,n,i,o,a,s,l,r){"rounded"==s||"default"==s&&"rounded"==a?t.arcTo(l-.5*r,l-.5*r,0,0,0,i-r,o-l-.5*r):"invRound"==s||"default"==s&&"invRound"==a?t.arcTo(l+r,l+r,0,0,1,i-r,o-l-r):"snip"==s||"default"==s&&"snip"==a?t.lineTo(i-r,o-l-.5*r):("fold"==s||"default"==s&&"fold"==a)&&(t.lineTo(i-l-r,o-l-r),t.lineTo(i-r,o-l-r))},It.prototype.paintBottomInner=function(t,e,n,i,o,a,s,l,r,m,x){m||x?!m&&x?t.lineTo(i,o-r):m&&!x?t.lineTo(i-r,o):"square"==s||"default"==s&&"square"==a||!m?t.lineTo(i-r,o-r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(i-l-.5*r,o-r):t.lineTo(i-l-r,o-r):t.lineTo(i,o)},It.prototype.paintSWInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a?t.lineTo(r,o-r):"rounded"==s||"default"==s&&"rounded"==a?t.arcTo(l-.5*r,l-.5*r,0,0,0,l+.5*r,o-r):"invRound"==s||"default"==s&&"invRound"==a?t.arcTo(l+r,l+r,0,0,1,l+r,o-r):"snip"==s||"default"==s&&"snip"==a?t.lineTo(l+.5*r,o-r):("fold"==s||"default"==s&&"fold"==a)&&(t.lineTo(r+l,o-l-r),t.lineTo(r+l,o-r)):t.lineTo(r,o)},It.prototype.moveSWInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a?t.moveTo(r,o-r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.moveTo(r,o-l-.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.moveTo(r,o-l-r):t.moveTo(0,o-r)},It.prototype.lineSWInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a?t.lineTo(r,o-r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(r,o-l-.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(r,o-l-r):t.lineTo(0,o-r)},It.prototype.moveSEInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a?t.moveTo(i-r,o-r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.moveTo(i-r,o-l-.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.moveTo(i-r,o-l-r):t.moveTo(i-r,o)},It.prototype.lineSEInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a?t.lineTo(i-r,o-r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(i-r,o-l-.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(i-r,o-l-r):t.lineTo(i-r,o)},It.prototype.moveNEInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a||m?t.moveTo(i-r,r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.moveTo(i-r,l+.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.moveTo(i-r,l+r):t.moveTo(i,r)},It.prototype.lineNEInner=function(t,e,n,i,o,a,s,l,r,m){m?"square"==s||"default"==s&&"square"==a||m?t.lineTo(i-r,r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(i-r,l+.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(i-r,l+r):t.lineTo(i,r)},It.prototype.moveNWInner=function(t,e,n,i,o,a,s,l,r,m,x){m||x?!m&&x?t.moveTo(r,0):m&&!x?t.moveTo(0,r):"square"==s||"default"==s&&"square"==a?t.moveTo(r,r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.moveTo(r,l+.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.moveTo(r,l+r):t.moveTo(0,0)},It.prototype.lineNWInner=function(t,e,n,i,o,a,s,l,r,m,x){m||x?!m&&x?t.lineTo(r,0):m&&!x?t.lineTo(0,r):"square"==s||"default"==s&&"square"==a?t.lineTo(r,r):"rounded"==s||"default"==s&&"rounded"==a||"snip"==s||"default"==s&&"snip"==a?t.lineTo(r,l+.5*r):("invRound"==s||"default"==s&&"invRound"==a||"fold"==s||"default"==s&&"fold"==a)&&t.lineTo(r,l+r):t.lineTo(0,0)},It.prototype.paintFolds=function(t,e,n,i,o,a,s,l,r,m,x,h,p,u,d){"fold"!=a&&"fold"!=s&&"fold"!=l&&"fold"!=r&&"fold"!=m||(("fold"==s||"default"==s&&"fold"==a)&&h&&d&&(t.moveTo(0,x),t.lineTo(x,x),t.lineTo(x,0)),("fold"==l||"default"==l&&"fold"==a)&&h&&p&&(t.moveTo(i-x,0),t.lineTo(i-x,x),t.lineTo(i,x)),("fold"==r||"default"==r&&"fold"==a)&&u&&p&&(t.moveTo(i-x,o),t.lineTo(i-x,o-x),t.lineTo(i,o-x)),("fold"==m||"default"==m&&"fold"==a)&&u&&d&&(t.moveTo(0,o-x),t.lineTo(x,o-x),t.lineTo(x,o)))},mxCellRenderer.registerShape(It.prototype.cst.RECT2,It),It.prototype.constraints=null,mxUtils.extend(Vt,mxConnector),Vt.prototype.origPaintEdgeShape=Vt.prototype.paintEdgeShape,Vt.prototype.paintEdgeShape=function(t,e,n){for(var i=[],o=0;o<e.length;o++)i.push(mxUtils.clone(e[o]));var a=t.state.dashed,s=t.state.fixDash;if(Vt.prototype.origPaintEdgeShape.apply(this,[t,i,n]),t.state.strokeWidth>=3){var l=mxUtils.getValue(this.style,"fillColor",null);null!=l&&(t.setStrokeColor(l),t.setStrokeWidth(t.state.strokeWidth-2),t.setDashed(a,s),Vt.prototype.origPaintEdgeShape.apply(this,[t,e,n]))}},mxCellRenderer.registerShape("filledEdge",Vt),"undefined"!=typeof StyleFormatPanel&&(F=StyleFormatPanel.prototype.getCustomColors,StyleFormatPanel.prototype.getCustomColors=function(){var t=this.editorUi.getSelectionState(),e=F.apply(this,arguments);return"umlFrame"==t.style.shape&&e.push({title:mxResources.get("laneColor"),key:"swimlaneFillColor",defaultValue:"default"}),e}),mxMarker.addMarker("dash",(function(t,e,n,i,o,a,s,l,r,m){var x=o*(s+r+1),h=a*(s+r+1);return function(){t.begin(),t.moveTo(i.x-x/2-h/2,i.y-h/2+x/2),t.lineTo(i.x+h/2-3*x/2,i.y-3*h/2-x/2),t.stroke()}})),mxMarker.addMarker("box",(function(t,e,n,i,o,a,s,l,r,m){var x=o*(s+r+1),h=a*(s+r+1),p=i.x+x/2,u=i.y+h/2;return i.x-=x,i.y-=h,function(){t.begin(),t.moveTo(p-x/2-h/2,u-h/2+x/2),t.lineTo(p-x/2+h/2,u-h/2-x/2),t.lineTo(p+h/2-3*x/2,u-3*h/2-x/2),t.lineTo(p-h/2-3*x/2,u-3*h/2+x/2),t.close(),m?t.fillAndStroke():t.stroke()}})),mxMarker.addMarker("cross",(function(t,e,n,i,o,a,s,l,r,m){var x=o*(s+r+1),h=a*(s+r+1);return function(){t.begin(),t.moveTo(i.x-x/2-h/2,i.y-h/2+x/2),t.lineTo(i.x+h/2-3*x/2,i.y-3*h/2-x/2),t.moveTo(i.x-x/2+h/2,i.y-h/2-x/2),t.lineTo(i.x-h/2-3*x/2,i.y-3*h/2+x/2),t.stroke()}})),mxMarker.addMarker("circle",bt),mxMarker.addMarker("circlePlus",(function(t,e,n,i,o,a,s,l,r,m){var x=i.clone(),h=bt.apply(this,arguments),p=o*(s+2*r),u=a*(s+2*r);return function(){h.apply(this,arguments),t.begin(),t.moveTo(x.x-o*r,x.y-a*r),t.lineTo(x.x-2*p+o*r,x.y-2*u+a*r),t.moveTo(x.x-p-u+a*r,x.y-u+p-o*r),t.lineTo(x.x+u-p-a*r,x.y-u-p+o*r),t.stroke()}})),mxMarker.addMarker("halfCircle",(function(t,e,n,i,o,a,s,l,r,m){var x=o*(s+r+1),h=a*(s+r+1),p=i.clone();return i.x-=x,i.y-=h,function(){t.begin(),t.moveTo(p.x-h,p.y+x),t.quadTo(i.x-h,i.y+x,i.x,i.y),t.quadTo(i.x+h,i.y-x,p.x+h,p.y-x),t.stroke()}})),mxMarker.addMarker("async",(function(t,e,n,i,o,a,s,l,r,m){var x=o*r*1.118,h=a*r*1.118;o*=s+r,a*=s+r;var p=i.clone();return p.x-=x,p.y-=h,i.x+=1*-o-x,i.y+=1*-a-h,function(){t.begin(),t.moveTo(p.x,p.y),l?t.lineTo(p.x-o-a/2,p.y-a+o/2):t.lineTo(p.x+a/2-o,p.y-a-o/2),t.lineTo(p.x-o,p.y-a),t.close(),m?t.fillAndStroke():t.stroke()}})),mxMarker.addMarker("openAsync",(W=null!=(W=2)?W:2,function(t,e,n,i,o,a,s,l,r,m){o*=s+r,a*=s+r;var x=i.clone();return function(){t.begin(),t.moveTo(x.x,x.y),l?t.lineTo(x.x-o-a/W,x.y-a+o/W):t.lineTo(x.x+a/W-o,x.y-a-o/W),t.stroke()}})),"undefined"!=typeof mxVertexHandler){function Nt(t,e,n,i,o,a,s){var l=new mxHandle(t,null,mxVertexHandler.prototype.secondaryHandleImage);if(l.execute=function(t){for(var n=0;n<e.length;n++)this.copyStyle(e[n]);s&&s(t)},l.getPosition=n,l.setPosition=i,l.ignoreGrid=null==o||o,a){var r=l.positionChanged;l.positionChanged=function(){r.apply(this,arguments),t.view.invalidate(this.state.cell),t.view.validate()}}return l}function zt(t,e){return Nt(t,[mxConstants.STYLE_ARCSIZE],(function(n){var i=null!=e?e:n.height/8;if("1"==mxUtils.getValue(t.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)){var o=mxUtils.getValue(t.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;return new mxPoint(n.x+n.width-Math.min(n.width/2,o),n.y+i)}return o=Math.max(0,parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)))/100,new mxPoint(n.x+n.width-Math.min(Math.max(n.width/2,n.height/2),Math.min(n.width,n.height)*o),n.y+i)}),(function(e,n,i){if("1"==mxUtils.getValue(t.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))this.state.style[mxConstants.STYLE_ARCSIZE]=Math.round(Math.max(0,Math.min(e.width,2*(e.x+e.width-n.x))));else{var o=Math.min(50,Math.max(0,100*(e.width-n.x+e.x)/Math.min(e.width,e.height)));this.state.style[mxConstants.STYLE_ARCSIZE]=Math.round(o)}}))}function At(){return function(t){var e=[];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(zt(t)),e}}function Lt(t,e,n){return t=null!=t?t:.5,function(i){var o=[Nt(i,["size"],(function(i){var o=null!=n?"0"!=mxUtils.getValue(this.state.style,"fixedSize","0"):null,a=Math.max(0,parseFloat(mxUtils.getValue(this.state.style,"size",o?n:e)));return new mxPoint(i.x+Math.min(.75*i.width*t,a*(o?.75:.75*i.width)),i.y+i.height/4)}),(function(e,i){var o=null!=n&&"0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?i.x-e.x:Math.max(0,Math.min(t,(i.x-e.x)/e.width*.75));this.state.style.size=o}),!1,!0)];return mxUtils.getValue(i.style,mxConstants.STYLE_ROUNDED,!1)&&o.push(zt(i)),o}}function kt(t,e,n,i,o){return n=null!=n?n:.5,function(a){var s=[Nt(a,["size"],(function(e){var n=null!=o?"0"!=mxUtils.getValue(this.state.style,"fixedSize","0"):null,i=parseFloat(mxUtils.getValue(this.state.style,"size",n?o:t));return new mxPoint(e.x+Math.max(0,Math.min(.5*e.width,i*(n?1:e.width))),e.getCenterY())}),(function(t,e,i){var a=null!=o&&"0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?e.x-t.x:Math.max(0,Math.min(n,(e.x-t.x)/t.width));this.state.style.size=a}),!1,i)];return e&&mxUtils.getValue(a.style,mxConstants.STYLE_ROUNDED,!1)&&s.push(zt(a)),s}}function Ft(t,e,n){return function(i){var o=[Nt(i,["size"],(function(n){var i=Math.max(0,Math.min(n.width,Math.min(n.height,parseFloat(mxUtils.getValue(this.state.style,"size",e)))))*t;return new mxPoint(n.x+i,n.y+i)}),(function(e,n){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min(e.width,n.x-e.x),Math.min(e.height,n.y-e.y)))/t)}),!1)];return n&&mxUtils.getValue(i.style,mxConstants.STYLE_ROUNDED,!1)&&o.push(zt(i)),o}}function Wt(t){return function(e){return[Nt(e,["size"],(function(e){var n=Math.max(0,Math.min(.5*e.height,parseFloat(mxUtils.getValue(this.state.style,"size",t))));return new mxPoint(e.x,e.y+n)}),(function(t,e){this.state.style.size=Math.max(0,e.y-t.y)}),!0)]}}function _t(t){return function(e){return[Nt(e,["arrowWidth","arrowSize"],(function(e){var n=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"arrowWidth",ht.prototype.arrowWidth))),i=Math.max(0,Math.min(t,mxUtils.getValue(this.state.style,"arrowSize",ht.prototype.arrowSize)));return new mxPoint(e.x+(1-i)*e.width,e.y+(1-n)*e.height/2)}),(function(e,n){this.state.style.arrowWidth=Math.max(0,Math.min(1,Math.abs(e.y+e.height/2-n.y)/e.height*2)),this.state.style.arrowSize=Math.max(0,Math.min(t,(e.x+e.width-n.x)/e.width))}))]}}function Yt(t,e,n,i,o){return Nt(t,e,(function(e){var o=t.absolutePoints,a=o.length-1,s=t.view.translate,l=t.view.scale,r=n?o[0]:o[a],m=n?o[1]:o[a-1],x=m.x-r.x,h=m.y-r.y,p=Math.sqrt(x*x+h*h),u=i.call(this,p,x/p,h/p,r,m);return new mxPoint(u.x/l-s.x,u.y/l-s.y)}),(function(e,i,a){var s=t.absolutePoints,l=s.length-1,r=t.view.translate,m=t.view.scale,x=n?s[0]:s[l],h=n?s[1]:s[l-1],p=h.x-x.x,u=h.y-x.y,d=Math.sqrt(p*p+u*u);i.x=(i.x+r.x)*m,i.y=(i.y+r.y)*m,o.call(this,d,p/d,u/d,x,h,i,a)}))}function Dt(t,e,n){return Yt(t,["width"],e,(function(e,i,o,a,s){var l=t.shape.getEdgeWidth()*t.view.scale+n;return new mxPoint(a.x+i*e/4+o*l/2,a.y+o*e/4-i*l/2)}),(function(e,i,o,a,s,l){var r=Math.sqrt(mxUtils.ptSegDistSq(a.x,a.y,s.x,s.y,l.x,l.y));t.style.width=Math.round(2*r)/t.view.scale-n}))}var Ot={link:function(t){return[Dt(t,!0,10),Dt(t,!1,10)]},flexArrow:function(t){var e=t.view.graph.gridSize/t.view.scale,n=[];return mxUtils.getValue(t.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&(n.push(Yt(t,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,(function(e,n,i,o,a){var s=(t.shape.getEdgeWidth()-t.shape.strokewidth)*t.view.scale,l=3*mxUtils.getNumber(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(o.x+n*(l+t.shape.strokewidth*t.view.scale)+i*s/2,o.y+i*(l+t.shape.strokewidth*t.view.scale)-n*s/2)}),(function(n,i,o,a,s,l,r){var m=Math.sqrt(mxUtils.ptSegDistSq(a.x,a.y,s.x,s.y,l.x,l.y)),x=mxUtils.ptLineDist(a.x,a.y,a.x+o,a.y-i,l.x,l.y);t.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*(x-t.shape.strokewidth)/3)/100/t.view.scale,t.style.width=Math.round(2*m)/t.view.scale,(mxEvent.isShiftDown(r.getEvent())||mxEvent.isControlDown(r.getEvent()))&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE]),mxEvent.isAltDown(r.getEvent())||Math.abs(parseFloat(t.style[mxConstants.STYLE_STARTSIZE])-parseFloat(t.style[mxConstants.STYLE_ENDSIZE]))<e/6&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE])}))),n.push(Yt(t,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,(function(e,n,i,o,a){var s=(t.shape.getStartArrowWidth()-t.shape.strokewidth)*t.view.scale,l=3*mxUtils.getNumber(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(o.x+n*(l+t.shape.strokewidth*t.view.scale)+i*s/2,o.y+i*(l+t.shape.strokewidth*t.view.scale)-n*s/2)}),(function(n,i,o,a,s,l,r){var m=Math.sqrt(mxUtils.ptSegDistSq(a.x,a.y,s.x,s.y,l.x,l.y)),x=mxUtils.ptLineDist(a.x,a.y,a.x+o,a.y-i,l.x,l.y);t.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*(x-t.shape.strokewidth)/3)/100/t.view.scale,t.style.startWidth=Math.max(0,Math.round(2*m)-t.shape.getEdgeWidth())/t.view.scale,(mxEvent.isShiftDown(r.getEvent())||mxEvent.isControlDown(r.getEvent()))&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE],t.style.endWidth=t.style.startWidth),mxEvent.isAltDown(r.getEvent())||(Math.abs(parseFloat(t.style[mxConstants.STYLE_STARTSIZE])-parseFloat(t.style[mxConstants.STYLE_ENDSIZE]))<e/6&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE]),Math.abs(parseFloat(t.style.startWidth)-parseFloat(t.style.endWidth))<e&&(t.style.startWidth=t.style.endWidth))})))),mxUtils.getValue(t.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&(n.push(Yt(t,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,(function(e,n,i,o,a){var s=(t.shape.getEdgeWidth()-t.shape.strokewidth)*t.view.scale,l=3*mxUtils.getNumber(t.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(o.x+n*(l+t.shape.strokewidth*t.view.scale)-i*s/2,o.y+i*(l+t.shape.strokewidth*t.view.scale)+n*s/2)}),(function(n,i,o,a,s,l,r){var m=Math.sqrt(mxUtils.ptSegDistSq(a.x,a.y,s.x,s.y,l.x,l.y)),x=mxUtils.ptLineDist(a.x,a.y,a.x+o,a.y-i,l.x,l.y);t.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*(x-t.shape.strokewidth)/3)/100/t.view.scale,t.style.width=Math.round(2*m)/t.view.scale,(mxEvent.isShiftDown(r.getEvent())||mxEvent.isControlDown(r.getEvent()))&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE]),mxEvent.isAltDown(r.getEvent())||Math.abs(parseFloat(t.style[mxConstants.STYLE_ENDSIZE])-parseFloat(t.style[mxConstants.STYLE_STARTSIZE]))<e/6&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE])}))),n.push(Yt(t,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,(function(e,n,i,o,a){var s=(t.shape.getEndArrowWidth()-t.shape.strokewidth)*t.view.scale,l=3*mxUtils.getNumber(t.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*t.view.scale;return new mxPoint(o.x+n*(l+t.shape.strokewidth*t.view.scale)-i*s/2,o.y+i*(l+t.shape.strokewidth*t.view.scale)+n*s/2)}),(function(n,i,o,a,s,l,r){var m=Math.sqrt(mxUtils.ptSegDistSq(a.x,a.y,s.x,s.y,l.x,l.y)),x=mxUtils.ptLineDist(a.x,a.y,a.x+o,a.y-i,l.x,l.y);t.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*(x-t.shape.strokewidth)/3)/100/t.view.scale,t.style.endWidth=Math.max(0,Math.round(2*m)-t.shape.getEdgeWidth())/t.view.scale,(mxEvent.isShiftDown(r.getEvent())||mxEvent.isControlDown(r.getEvent()))&&(t.style[mxConstants.STYLE_STARTSIZE]=t.style[mxConstants.STYLE_ENDSIZE],t.style.startWidth=t.style.endWidth),mxEvent.isAltDown(r.getEvent())||(Math.abs(parseFloat(t.style[mxConstants.STYLE_ENDSIZE])-parseFloat(t.style[mxConstants.STYLE_STARTSIZE]))<e/6&&(t.style[mxConstants.STYLE_ENDSIZE]=t.style[mxConstants.STYLE_STARTSIZE]),Math.abs(parseFloat(t.style.endWidth)-parseFloat(t.style.startWidth))<e&&(t.style.endWidth=t.style.startWidth))})))),n},swimlane:function(t){var e=[];if(mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED)){var n=parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));e.push(zt(t,n/2))}return e.push(Nt(t,[mxConstants.STYLE_STARTSIZE],(function(e){var n=parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));return 1==mxUtils.getValue(t.style,mxConstants.STYLE_HORIZONTAL,1)?new mxPoint(e.getCenterX(),e.y+Math.max(0,Math.min(e.height,n))):new mxPoint(e.x+Math.max(0,Math.min(e.width,n)),e.getCenterY())}),(function(e,n){t.style[mxConstants.STYLE_STARTSIZE]=1==mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,1)?Math.round(Math.max(0,Math.min(e.height,n.y-e.y))):Math.round(Math.max(0,Math.min(e.width,n.x-e.x)))}),!1,null,(function(e){var n=t.view.graph;if(!mxEvent.isShiftDown(e.getEvent())&&!mxEvent.isControlDown(e.getEvent())&&(n.isTableRow(t.cell)||n.isTableCell(t.cell))){for(var i=n.getSwimlaneDirection(t.style),o=n.model.getParent(t.cell),a=n.model.getChildCells(o,!0),s=[],l=0;l<a.length;l++)a[l]!=t.cell&&n.isSwimlane(a[l])&&n.getSwimlaneDirection(n.getCurrentCellStyle(a[l]))==i&&s.push(a[l]);n.setCellStyles(mxConstants.STYLE_STARTSIZE,t.style[mxConstants.STYLE_STARTSIZE],s)}}))),e},label:At(),ext:At(),rectangle:At(),triangle:At(),rhombus:At(),umlLifeline:function(t){return[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(t.height,parseFloat(mxUtils.getValue(this.state.style,"size",G.prototype.size))));return new mxPoint(t.getCenterX(),t.y+e)}),(function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))}),!1)]},umlFrame:function(t){return[Nt(t,["width","height"],(function(t){var e=Math.max(X.prototype.corner,Math.min(t.width,mxUtils.getValue(this.state.style,"width",X.prototype.width))),n=Math.max(1.5*X.prototype.corner,Math.min(t.height,mxUtils.getValue(this.state.style,"height",X.prototype.height)));return new mxPoint(t.x+e,t.y+n)}),(function(t,e){this.state.style.width=Math.round(Math.max(X.prototype.corner,Math.min(t.width,e.x-t.x))),this.state.style.height=Math.round(Math.max(1.5*X.prototype.corner,Math.min(t.height,e.y-t.y)))}),!1)]},process:function(t){var e=[Nt(t,["size"],(function(t){var e="0"!=mxUtils.getValue(this.state.style,"fixedSize","0"),n=parseFloat(mxUtils.getValue(this.state.style,"size",b.prototype.size));return e?new mxPoint(t.x+n,t.y+t.height/4):new mxPoint(t.x+t.width*n,t.y+t.height/4)}),(function(t,e){var n="0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?Math.max(0,Math.min(.5*t.width,e.x-t.x)):Math.max(0,Math.min(.5,(e.x-t.x)/t.width));this.state.style.size=n}),!1)];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(zt(t)),e},cross:function(t){return[Nt(t,["size"],(function(t){var e=Math.min(t.width,t.height),n=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"size",Rt.prototype.size)))*e/2;return new mxPoint(t.getCenterX()-n,t.getCenterY()-n)}),(function(t,e){var n=Math.min(t.width,t.height);this.state.style.size=Math.max(0,Math.min(1,Math.min(Math.max(0,t.getCenterY()-e.y)/n*2,Math.max(0,t.getCenterX()-e.x)/n*2)))}))]},note:function(t){return[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(t.width,Math.min(t.height,parseFloat(mxUtils.getValue(this.state.style,"size",x.prototype.size)))));return new mxPoint(t.x+t.width-e,t.y+e)}),(function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min(t.width,t.x+t.width-e.x),Math.min(t.height,e.y-t.y))))}))]},note2:function(t){return[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(t.width,Math.min(t.height,parseFloat(mxUtils.getValue(this.state.style,"size",h.prototype.size)))));return new mxPoint(t.x+t.width-e,t.y+e)}),(function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min(t.width,t.x+t.width-e.x),Math.min(t.height,e.y-t.y))))}))]},manualInput:function(t){var e=[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"size",st.prototype.size)));return new mxPoint(t.x+t.width/4,t.y+3*e/4)}),(function(t,e){this.state.style.size=Math.round(Math.max(0,Math.min(t.height,4*(e.y-t.y)/3)))}),!1)];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(zt(t)),e},dataStorage:function(t){return[Nt(t,["size"],(function(t){var e="0"!=mxUtils.getValue(this.state.style,"fixedSize","0"),n=parseFloat(mxUtils.getValue(this.state.style,"size",e?ut.prototype.fixedSize:ut.prototype.size));return new mxPoint(t.x+t.width-n*(e?1:t.width),t.getCenterY())}),(function(t,e){var n="0"!=mxUtils.getValue(this.state.style,"fixedSize","0")?Math.max(0,Math.min(t.width,t.x+t.width-e.x)):Math.max(0,Math.min(1,(t.x+t.width-e.x)/t.width));this.state.style.size=n}),!1)]},callout:function(t){var e=[Nt(t,["size","position"],(function(t){var e=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"size",z.prototype.size))),n=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",z.prototype.position)));return Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"base",z.prototype.base))),new mxPoint(t.x+n*t.width,t.y+t.height-e)}),(function(t,e){Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"base",z.prototype.base))),this.state.style.size=Math.round(Math.max(0,Math.min(t.height,t.y+t.height-e.y))),this.state.style.position=Math.round(100*Math.max(0,Math.min(1,(e.x-t.x)/t.width)))/100}),!1),Nt(t,["position2"],(function(t){var e=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position2",z.prototype.position2)));return new mxPoint(t.x+e*t.width,t.y+t.height)}),(function(t,e){this.state.style.position2=Math.round(100*Math.max(0,Math.min(1,(e.x-t.x)/t.width)))/100}),!1),Nt(t,["base"],(function(t){var e=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"size",z.prototype.size))),n=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",z.prototype.position))),i=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"base",z.prototype.base)));return new mxPoint(t.x+Math.min(t.width,n*t.width+i),t.y+t.height-e)}),(function(t,e){var n=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",z.prototype.position)));this.state.style.base=Math.round(Math.max(0,Math.min(t.width,e.x-t.x-n*t.width)))}),!1)];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(zt(t)),e},internalStorage:function(t){var e=[Nt(t,["dx","dy"],(function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"dx",lt.prototype.dx))),n=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"dy",lt.prototype.dy)));return new mxPoint(t.x+e,t.y+n)}),(function(t,e){this.state.style.dx=Math.round(Math.max(0,Math.min(t.width,e.x-t.x))),this.state.style.dy=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))}),!1)];return mxUtils.getValue(t.style,mxConstants.STYLE_ROUNDED,!1)&&e.push(zt(t)),e},module:function(t){return[Nt(t,["jettyWidth","jettyHeight"],(function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"jettyWidth",$.prototype.jettyWidth))),n=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"jettyHeight",$.prototype.jettyHeight)));return new mxPoint(t.x+e/2,t.y+2*n)}),(function(t,e){this.state.style.jettyWidth=Math.round(2*Math.max(0,Math.min(t.width,e.x-t.x))),this.state.style.jettyHeight=Math.round(Math.max(0,Math.min(t.height,e.y-t.y))/2)}))]},corner:function(t){return[Nt(t,["dx","dy"],(function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"dx",rt.prototype.dx))),n=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"dy",rt.prototype.dy)));return new mxPoint(t.x+e,t.y+n)}),(function(t,e){this.state.style.dx=Math.round(Math.max(0,Math.min(t.width,e.x-t.x))),this.state.style.dy=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))}),!1)]},tee:function(t){return[Nt(t,["dx","dy"],(function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"dx",xt.prototype.dx))),n=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"dy",xt.prototype.dy)));return new mxPoint(t.x+(t.width+e)/2,t.y+n)}),(function(t,e){this.state.style.dx=Math.round(Math.max(0,2*Math.min(t.width/2,e.x-t.x-t.width/2))),this.state.style.dy=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))}),!1)]},singleArrow:_t(1),doubleArrow:_t(.5),folder:function(t){return[Nt(t,["tabWidth","tabHeight"],(function(t){var e=Math.max(0,Math.min(t.width,mxUtils.getValue(this.state.style,"tabWidth",w.prototype.tabWidth))),n=Math.max(0,Math.min(t.height,mxUtils.getValue(this.state.style,"tabHeight",w.prototype.tabHeight)));return mxUtils.getValue(this.state.style,"tabPosition",w.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&(e=t.width-e),new mxPoint(t.x+e,t.y+n)}),(function(t,e){var n=Math.max(0,Math.min(t.width,e.x-t.x));mxUtils.getValue(this.state.style,"tabPosition",w.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&(n=t.width-n),this.state.style.tabWidth=Math.round(n),this.state.style.tabHeight=Math.round(Math.max(0,Math.min(t.height,e.y-t.y)))}),!1)]},document:function(t){return[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",f.prototype.size))));return new mxPoint(t.x+3*t.width/4,t.y+(1-e)*t.height)}),(function(t,e){this.state.style.size=Math.max(0,Math.min(1,(t.y+t.height-e.y)/t.height))}),!1)]},tape:function(t){return[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",g.prototype.size))));return new mxPoint(t.getCenterX(),t.y+e*t.height/2)}),(function(t,e){this.state.style.size=Math.max(0,Math.min(1,(e.y-t.y)/t.height*2))}),!1)]},isoCube2:function(t){return[Nt(t,["isoAngle"],(function(t){var e=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.state.style,"isoAngle",p.isoAngle))))*Math.PI/200,n=Math.min(t.width*Math.tan(e),.5*t.height);return new mxPoint(t.x,t.y+n)}),(function(t,e){this.state.style.isoAngle=Math.max(0,50*(e.y-t.y)/t.height)}),!0)]},cylinder2:Wt(u.prototype.size),cylinder3:Wt(d.prototype.size),offPageConnector:function(t){return[Nt(t,["size"],(function(t){var e=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",yt.prototype.size))));return new mxPoint(t.getCenterX(),t.y+(1-e)*t.height)}),(function(t,e){this.state.style.size=Math.max(0,Math.min(1,(t.y+t.height-e.y)/t.height))}),!1)]},"mxgraph.basic.rect":function(t){var e=[Graph.createHandle(t,["size"],(function(t){var e=Math.max(0,Math.min(t.width/2,t.height/2,parseFloat(mxUtils.getValue(this.state.style,"size",this.size))));return new mxPoint(t.x+e,t.y+e)}),(function(t,e){this.state.style.size=Math.round(100*Math.max(0,Math.min(t.height/2,t.width/2,e.x-t.x)))/100}))],n=Graph.createHandle(t,["indent"],(function(t){var e=Math.max(0,Math.min(100,parseFloat(mxUtils.getValue(this.state.style,"indent",this.dx2))));return new mxPoint(t.x+.75*t.width,t.y+e*t.height/200)}),(function(t,e){this.state.style.indent=Math.round(100*Math.max(0,Math.min(100,200*(e.y-t.y)/t.height)))/100}));return e.push(n),e},step:kt(A.prototype.size,!0,null,!0,A.prototype.fixedSize),hexagon:kt(L.prototype.size,!0,.5,!0,L.prototype.fixedSize),curlyBracket:kt(v.prototype.size,!1),display:kt(Ut.prototype.size,!1),cube:Ft(1,n.prototype.size,!1),card:Ft(.5,C.prototype.size,!0),loopLimit:Ft(.5,wt.prototype.size,!0),trapezoid:Lt(.5,P.prototype.size,P.prototype.fixedSize),parallelogram:Lt(1,S.prototype.size,S.prototype.fixedSize)};Graph.createHandle=Nt,Graph.handleFactory=Ot;var qt=mxVertexHandler.prototype.createCustomHandles;mxVertexHandler.prototype.createCustomHandles=function(){var t=qt.apply(this,arguments);if(this.graph.isCellRotatable(this.state.cell)){var e=this.state.style.shape;null==mxCellRenderer.defaultShapes[e]&&null==mxStencilRegistry.getStencil(e)?e=mxConstants.SHAPE_RECTANGLE:this.state.view.graph.isSwimlane(this.state.cell)&&(e=mxConstants.SHAPE_SWIMLANE);var n=Ot[e];if(null==n&&null!=this.state.shape&&this.state.shape.isRoundable()&&(n=Ot[mxConstants.SHAPE_RECTANGLE]),null!=n){var i=n(this.state);null!=i&&(t=null==t?i:t.concat(i))}}return t},mxEdgeHandler.prototype.createCustomHandles=function(){var t=this.state.style.shape;null==mxCellRenderer.defaultShapes[t]&&null==mxStencilRegistry.getStencil(t)&&(t=mxConstants.SHAPE_CONNECTOR);var e=Ot[t];return null!=e?e(this.state):null}}else Graph.createHandle=function(){},Graph.handleFactory={};var Zt=new mxPoint(1,0),Ht=new mxPoint(1,0),Bt=mxUtils.toRadians(-30),Gt=Math.cos(Bt),Xt=Math.sin(Bt);Zt=mxUtils.getRotatedPoint(Zt,Gt,Xt);var jt=mxUtils.toRadians(-150),Jt=Math.cos(jt),Qt=Math.sin(jt);Ht=mxUtils.getRotatedPoint(Ht,Jt,Qt),mxEdgeStyle.IsometricConnector=function(t,e,n,i,o){var a=t.view,s=null!=i&&i.length>0?i[0]:null,l=t.absolutePoints,r=l[0],m=l[l.length-1];null!=s&&(s=a.transformControlPoint(t,s)),null==r&&null!=e&&(r=new mxPoint(e.getCenterX(),e.getCenterY())),null==m&&null!=n&&(m=new mxPoint(n.getCenterX(),n.getCenterY()));var x=Zt.x,h=Zt.y,p=Ht.x,u=Ht.y,d="horizontal"==mxUtils.getValue(t.style,"elbow","horizontal");if(null!=m&&null!=r){var c=r;function w(t,e,n){var i=t-c.x,a=e-c.y,s=(u*i-p*a)/(x*u-h*p),l=(h*i-x*a)/(h*p-x*u);d?(n&&(c=new mxPoint(c.x+x*s,c.y+h*s),o.push(c)),c=new mxPoint(c.x+p*l,c.y+u*l),o.push(c)):(n&&(c=new mxPoint(c.x+p*l,c.y+u*l),o.push(c)),c=new mxPoint(c.x+x*s,c.y+h*s),o.push(c))}null==s&&(s=new mxPoint(r.x+(m.x-r.x)/2,r.y+(m.y-r.y)/2)),w(s.x,s.y,!0),w(m.x,m.y,!1)}},mxStyleRegistry.putValue("isometricEdgeStyle",mxEdgeStyle.IsometricConnector);var Kt=Graph.prototype.createEdgeHandler;Graph.prototype.createEdgeHandler=function(t,e){if(e==mxEdgeStyle.IsometricConnector){var n=new mxElbowEdgeHandler(t);return n.snapToTerminals=!1,n}return Kt.apply(this,arguments)},l.prototype.constraints=[],r.prototype.getConstraints=function(t,e,n){var i=[],o=Math.tan(mxUtils.toRadians(30)),a=(.5-o)/2,s=Math.min(e,n/(.5+o)),l=(e-s)/2,r=(n-s)/2;return i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,l,r+.25*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,l+.5*s,r+s*a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,l+s,r+.25*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,l+s,r+.75*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,l+.5*s,r+(1-a)*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,l,r+.75*s)),i},p.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(.01,Math.min(94,parseFloat(mxUtils.getValue(this.style,"isoAngle",this.isoAngle))))*Math.PI/200,a=Math.min(e*Math.tan(o),.5*n);return i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,a)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,n-a)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,n-a)),i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,a)),i},z.prototype.getConstraints=function(t,e,n){var i=[],o=(mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE),Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),a=(Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position",this.position)))),e*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position2",this.position2)))));return Math.max(0,Math.min(e,parseFloat(mxUtils.getValue(this.style,"base",this.base)))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(.25,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(.75,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.5*(n-o))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,n-o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,a,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,n-o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*(n-o))),e>=2*o&&i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i},mxRectangleShape.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!0),new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(0,1),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0)],mxEllipse.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(0,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(1,.5))],vt.prototype.constraints=mxRectangleShape.prototype.constraints,mxImageShape.prototype.constraints=mxRectangleShape.prototype.constraints,mxSwimlane.prototype.constraints=mxRectangleShape.prototype.constraints,k.prototype.constraints=mxRectangleShape.prototype.constraints,mxLabel.prototype.constraints=mxRectangleShape.prototype.constraints,x.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(e,Math.min(n,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));return i.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-o),0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-.5*o,.5*o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.5*(n+o))),i.push(new mxConnectionConstraint(new mxPoint(1,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),e>=2*o&&i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i},C.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(e,Math.min(n,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));return i.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*o,.5*o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*(n+o))),i.push(new mxConnectionConstraint(new mxPoint(0,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(1,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1)),e>=2*o&&i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i},n.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(e,Math.min(n,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));return i.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-o),0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-.5*o,.5*o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.5*(n+o))),i.push(new mxConnectionConstraint(new mxPoint(1,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*o,n-.5*o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,n-o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*(n-o))),i},d.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"size",this.size))));return i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,o)),i.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,o)),i.push(new mxConnectionConstraint(new mxPoint(1,1),!1,null,0,-o)),i.push(new mxConnectionConstraint(new mxPoint(0,1),!1,null,0,-o)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,o+.5*(.5*n-o))),i.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,o+.5*(.5*n-o))),i.push(new mxConnectionConstraint(new mxPoint(1,0),!1,null,0,n-o-.5*(.5*n-o))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,n-o-.5*(.5*n-o))),i.push(new mxConnectionConstraint(new mxPoint(.145,0),!1,null,0,.29*o)),i.push(new mxConnectionConstraint(new mxPoint(.855,0),!1,null,0,.29*o)),i.push(new mxConnectionConstraint(new mxPoint(.855,1),!1,null,0,.29*-o)),i.push(new mxConnectionConstraint(new mxPoint(.145,1),!1,null,0,.29*-o)),i},w.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(e,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth)))),a=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight))));return"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?(i.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),a))):(i.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-.5*o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-o,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-o,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-o),a))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.25*(n-a)+a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.5*(n-a)+a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.75*(n-a)+a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.25*(n-a)+a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*(n-a)+a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.75*(n-a)+a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,n)),i.push(new mxConnectionConstraint(new mxPoint(.25,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(.75,1),!1)),i},lt.prototype.constraints=mxRectangleShape.prototype.constraints,ut.prototype.constraints=mxRectangleShape.prototype.constraints,Ct.prototype.constraints=mxEllipse.prototype.constraints,gt.prototype.constraints=mxEllipse.prototype.constraints,ft.prototype.constraints=mxEllipse.prototype.constraints,Mt.prototype.constraints=mxEllipse.prototype.constraints,st.prototype.constraints=mxRectangleShape.prototype.constraints,Et.prototype.constraints=mxRectangleShape.prototype.constraints,Ut.prototype.getConstraints=function(t,e,n){var i=[],o=Math.min(e,n/2),a=Math.min(e-o,Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size)))*e);return i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1,null)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,a,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(a+e-o),0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-o,0)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1,null)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-o,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(a+e-o),n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,a,n)),i},$.prototype.getConstraints=function(t,e,n){var i=parseFloat(mxUtils.getValue(t,"jettyWidth",$.prototype.jettyWidth))/2,o=parseFloat(mxUtils.getValue(t,"jettyHeight",$.prototype.jettyHeight)),a=[new mxConnectionConstraint(new mxPoint(0,0),!1,null,i),new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(0,1),!1,null,i),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0),new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,Math.min(n-.5*o,1.5*o)),new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,Math.min(n-.5*o,3.5*o))];return n>5*o&&a.push(new mxConnectionConstraint(new mxPoint(0,.75),!1,null,i)),n>8*o&&a.push(new mxConnectionConstraint(new mxPoint(0,.5),!1,null,i)),n>15*o&&a.push(new mxConnectionConstraint(new mxPoint(0,.25),!1,null,i)),a},wt.prototype.constraints=mxRectangleShape.prototype.constraints,yt.prototype.constraints=mxRectangleShape.prototype.constraints,mxCylinder.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.15,.05),!1),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.85,.05),!1),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.3),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.7),!0),new mxConnectionConstraint(new mxPoint(.15,.95),!1),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.85,.95),!1)],O.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.1),!1),new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.75,.1),!1),new mxConnectionConstraint(new mxPoint(0,1/3),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(1,1/3),!1),new mxConnectionConstraint(new mxPoint(1,1),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1)],tt.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)],mxActor.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.25,.2),!1),new mxConnectionConstraint(new mxPoint(.1,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.75,.25),!1),new mxConnectionConstraint(new mxPoint(.9,.5),!1),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)],c.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(.5,.25),!1),new mxConnectionConstraint(new mxPoint(1,0),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.5,.75),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)],g.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.35),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.65),!1),new mxConnectionConstraint(new mxPoint(1,.35),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,.65),!1),new mxConnectionConstraint(new mxPoint(.25,1),!1),new mxConnectionConstraint(new mxPoint(.75,0),!1)],A.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)],mxLine.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)],j.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.5,1),!1)],mxDoubleEllipse.prototype.constraints=mxEllipse.prototype.constraints,mxRhombus.prototype.constraints=mxEllipse.prototype.constraints,mxTriangle.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0)],mxHexagon.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.375,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.625,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.375,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.625,1),!0)],mxCloud.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.25),!1),new mxConnectionConstraint(new mxPoint(.4,.1),!1),new mxConnectionConstraint(new mxPoint(.16,.55),!1),new mxConnectionConstraint(new mxPoint(.07,.4),!1),new mxConnectionConstraint(new mxPoint(.31,.8),!1),new mxConnectionConstraint(new mxPoint(.13,.77),!1),new mxConnectionConstraint(new mxPoint(.8,.8),!1),new mxConnectionConstraint(new mxPoint(.55,.95),!1),new mxConnectionConstraint(new mxPoint(.875,.5),!1),new mxConnectionConstraint(new mxPoint(.96,.7),!1),new mxConnectionConstraint(new mxPoint(.625,.2),!1),new mxConnectionConstraint(new mxPoint(.88,.25),!1)],S.prototype.constraints=mxRectangleShape.prototype.constraints,P.prototype.constraints=mxRectangleShape.prototype.constraints,f.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)],mxArrow.prototype.constraints=null,xt.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(e,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),a=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));return Math.abs(e-o),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.5*a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.75*e+.25*o,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),.5*(n+a))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),n)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-o),n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-o),.5*(n+a))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-o),a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.25*e-.25*o,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*a)),i},rt.prototype.getConstraints=function(t,e,n){var i=[],o=Math.max(0,Math.min(e,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),a=Math.max(0,Math.min(n,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));return i.push(new mxConnectionConstraint(new mxPoint(0,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,.5*a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+o),a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,a)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,.5*(n+a))),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,o,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*o,n)),i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,1),!1)),i},mt.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,0),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)],ht.prototype.getConstraints=function(t,e,n){var i=[],o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth)))),a=e*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize)))),s=(n-o)/2;return i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-a),s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-a,0)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-a,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e-a),n-s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,n-s)),i},pt.prototype.getConstraints=function(t,e,n){var i=[],o=n*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",ht.prototype.arrowWidth)))),a=e*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",ht.prototype.arrowSize)))),s=(n-o)/2;return i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,a,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*e,s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-a,0)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e-a,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*e,n-s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,a,n)),i},Rt.prototype.getConstraints=function(t,e,n){var i=[],o=Math.min(n,e),a=Math.max(0,Math.min(o,o*parseFloat(mxUtils.getValue(this.style,"size",this.size)))),s=(n-a)/2,l=s+a,r=(e-a)/2,m=r+a;return i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,r,.5*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,r,0)),i.push(new mxConnectionConstraint(new mxPoint(.5,0),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,m,0)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,m,.5*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,m,s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,r,n-.5*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,r,n)),i.push(new mxConnectionConstraint(new mxPoint(.5,1),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,m,n)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,m,n-.5*s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,m,l)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+m),s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,s)),i.push(new mxConnectionConstraint(new mxPoint(1,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,e,l)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*(e+m),l)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,r,l)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*r,s)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,s)),i.push(new mxConnectionConstraint(new mxPoint(0,.5),!1)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,l)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*r,l)),i.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,r,s)),i},G.prototype.constraints=null,dt.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)],ct.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.175,.25),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.175,.75),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)],Q.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)],K.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)]}();